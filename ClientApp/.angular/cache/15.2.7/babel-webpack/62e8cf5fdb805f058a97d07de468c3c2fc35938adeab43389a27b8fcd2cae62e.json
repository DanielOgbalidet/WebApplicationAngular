{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../houses.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/convertPipe\";\nconst _c0 = function (a1) {\n  return [\"/details\", a1];\n};\nconst _c1 = function (a1) {\n  return [\"/houseform/edit\", a1];\n};\nfunction ListingsComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 8)(1, \"td\")(2, \"a\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"convertCurrency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵelement(14, \"img\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"a\", 11);\n    i0.ɵɵelement(17, \"i\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function ListingsComponent_tr_25_Template_a_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const listing_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteHouse(listing_r1));\n    });\n    i0.ɵɵelement(19, \"i\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const listing_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c0, listing_r1.HouseId));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(listing_r1.Address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 9, listing_r1.Price, \"kr.\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(listing_r1.Description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(listing_r1.Bedrooms);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(listing_r1.Guests);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"alt\", listing_r1.Address);\n    i0.ɵɵproperty(\"src\", listing_r1.ImageUrl.length > 0 ? ctx_r0.baseImgUrl + listing_r1.Address + \"/\" + listing_r1.ImageUrl : ctx_r0.baseImgUrl + \"noimg.jpg\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c1, listing_r1.HouseId));\n  }\n}\nexport class ListingsComponent {\n  constructor(_router, _houseService, _route) {\n    this._router = _router;\n    this._houseService = _houseService;\n    this._route = _route;\n    this.myListings = [];\n    this.userId = -1;\n    this.baseImgUrl = \"/assets/images/\";\n  }\n  ngOnInit() {\n    this.getMyListings();\n  }\n  deleteHouse(house) {\n    const confirmDelete = confirm(`Are you sure you want to delete \"${house.Address}\"`);\n    if (confirmDelete) {\n      this._houseService.deleteHouse(house.HouseId).subscribe(response => {\n        if (response.success) {\n          window.location.reload();\n        }\n      }, error => {\n        console.error('Error deleting house:', error);\n      });\n    }\n  }\n  getMyListings() {\n    const email = sessionStorage.getItem(\"email\");\n    this._houseService.getListings(email).subscribe(listings => {\n      this.myListings = listings;\n    }, error => {\n      console.error('Error loading listings for edit: ', error);\n    });\n  }\n}\nListingsComponent.ɵfac = function ListingsComponent_Factory(t) {\n  return new (t || ListingsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HouseService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nListingsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListingsComponent,\n  selectors: [[\"app-listings-component\"]],\n  decls: 26,\n  vars: 1,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css\"], [\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"integrity\", \"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\", \"crossorigin\", \"anonymous\"], [1, \"container-fluid\"], [1, \"table-respnsive\", \"card\"], [1, \"table\", \"table-hover\", 2, \"border\", \"1px solid #ccc\", \"margin\", \"0 auto\"], [1, \"table-active\", \"table-success\"], [1, \"table-light\"], [\"style\", \"padding-top: 50px\", 4, \"ngFor\", \"ngForOf\"], [2, \"padding-top\", \"50px\"], [\"id\", \"house-link\", 3, \"routerLink\"], [2, \"width\", \"90px\", \"height\", \"50px\", 3, \"src\", \"alt\"], [\"id\", \"update\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"btn\", 2, \"margin-right\", \"10px\", 3, \"routerLink\"], [1, \"bi\", \"bi-pencil-fill\"], [\"id\", \"delete\", 1, \"btn\", \"btn-danger\", \"btn-sm\", \"btn\", 3, \"click\"], [1, \"bi\", \"bi-trash-fill\"]],\n  template: function ListingsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"head\");\n      i0.ɵɵelement(1, \"link\", 0)(2, \"link\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"h1\");\n      i0.ɵɵtext(5, \"My listings\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 3)(7, \"table\", 4)(8, \"thead\")(9, \"tr\", 5)(10, \"th\");\n      i0.ɵɵtext(11, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Bedrooms\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Guests\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\");\n      i0.ɵɵtext(21, \"Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\");\n      i0.ɵɵtext(23, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"tbody\", 6);\n      i0.ɵɵtemplate(25, ListingsComponent_tr_25_Template, 20, 16, \"tr\", 7);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(25);\n      i0.ɵɵproperty(\"ngForOf\", ctx.myListings);\n    }\n  },\n  dependencies: [i3.NgForOf, i1.RouterLink, i4.ConvertCurrency],\n  styles: [\".container-fluid[_ngcontent-%COMP%] {\\n  margin-left: 0vw;\\n  padding-right: 2vw;\\n  padding-top: 3vh;\\n  padding-left: 2vw;\\n  padding-bottom: 5vh;\\n  margin-right: 2vw;\\n  background-color: #FFFFF0;\\n  height: 100%;\\n  width: 100%;\\n  font-family: 'Montserrat', sans-serif;\\n}\\n\\n#house-link[_ngcontent-%COMP%] {\\n  color: black;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  padding-bottom: 2vh;\\n}\\n\\n#listings[_ngcontent-%COMP%]::after {\\n  content: '';\\n  height: 2px;\\n  width: 100%;\\n  background: black;\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  opacity: 1; \\n  transition: all 0.2s;\\n  pointer-events: none;\\n}\\n\\n.table-container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  overflow: auto; \\n  max-height: 75vh;\\n}\\n\\n\\n@media screen and (max-width: 767px) {\\n  #delete[_ngcontent-%COMP%] {\\n    width: 9.4vh;\\n  }\\n\\n  #update[_ngcontent-%COMP%] {\\n    width: 9.4vh;\\n  }\\n\\n\\n  h1[_ngcontent-%COMP%] {\\n    padding-bottom: 1vh;\\n  }\\n\\n  #listings[_ngcontent-%COMP%]::after {\\n    content: '';\\n    height: 2px;\\n    width: 100%;\\n    background: black;\\n    position: absolute;\\n    left: 0;\\n    bottom: 0;\\n    opacity: 1;\\n    transition: all 0.2s;\\n    pointer-events: none;\\n  }\\n}\\n\\n\\n@media screen and (min-width: 768px) and (max-width: 1024px) {\\n\\n\\n  #delete[_ngcontent-%COMP%] {\\n    width: 9.4vh;\\n  }\\n\\n\\n  #update[_ngcontent-%COMP%] {\\n    width: 9.4vh;\\n  }\\n\\n  .table-container[_ngcontent-%COMP%] {\\n    margin-left: 2vw;\\n    margin-right: 2vw;\\n    padding-right: 5vw;\\n    padding-top: 3vh;\\n    padding-left: 0;\\n    padding-right: 0;\\n    padding-bottom: 5vh;\\n  }\\n\\n  h1[_ngcontent-%COMP%] {\\n    padding-bottom: 2vh;\\n  }\\n\\n  #listings[_ngcontent-%COMP%]::after {\\n    content: '';\\n    height: 2px;\\n    width: 100%;\\n    background: black;\\n    position: absolute;\\n    left: 0;\\n    bottom: 0;\\n    opacity: 1;\\n    transition: all 0.2s;\\n    pointer-events: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG91c2VzL0xpc3RpbmdzL2xpc3RpbmdzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLFdBQVc7RUFDWCxxQ0FBcUM7QUFDdkM7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsV0FBVztFQUNYLFdBQVc7RUFDWCxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLE9BQU87RUFDUCxTQUFTO0VBQ1QsVUFBVSxFQUFFLG1EQUFtRDtFQUMvRCxvQkFBb0I7RUFDcEIsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGNBQWMsRUFBRSw4REFBOEQ7RUFDOUUsZ0JBQWdCO0FBQ2xCOztBQUVBLDJCQUEyQjtBQUMzQjtFQUNFO0lBQ0UsWUFBWTtFQUNkOztFQUVBO0lBQ0UsWUFBWTtFQUNkOzs7RUFHQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxXQUFXO0lBQ1gsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsT0FBTztJQUNQLFNBQVM7SUFDVCxVQUFVO0lBQ1Ysb0JBQW9CO0lBQ3BCLG9CQUFvQjtFQUN0QjtBQUNGOztBQUVBLDBCQUEwQjtBQUMxQjs7O0VBR0U7SUFDRSxZQUFZO0VBQ2Q7OztFQUdBO0lBQ0UsWUFBWTtFQUNkOztFQUVBO0lBQ0UsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsV0FBVztJQUNYLFdBQVc7SUFDWCxXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixPQUFPO0lBQ1AsU0FBUztJQUNULFVBQVU7SUFDVixvQkFBb0I7SUFDcEIsb0JBQW9CO0VBQ3RCO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyLWZsdWlkIHtcbiAgbWFyZ2luLWxlZnQ6IDB2dztcbiAgcGFkZGluZy1yaWdodDogMnZ3O1xuICBwYWRkaW5nLXRvcDogM3ZoO1xuICBwYWRkaW5nLWxlZnQ6IDJ2dztcbiAgcGFkZGluZy1ib3R0b206IDV2aDtcbiAgbWFyZ2luLXJpZ2h0OiAydnc7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRjA7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGZvbnQtZmFtaWx5OiAnTW9udHNlcnJhdCcsIHNhbnMtc2VyaWY7XG59XG5cbiNob3VzZS1saW5rIHtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG5oMSB7XG4gIHBhZGRpbmctYm90dG9tOiAydmg7XG59XG5cbiNsaXN0aW5nczo6YWZ0ZXIge1xuICBjb250ZW50OiAnJztcbiAgaGVpZ2h0OiAycHg7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICBib3R0b206IDA7XG4gIG9wYWNpdHk6IDE7IC8qIFNldCBvcGFjaXR5IHRvIDEgdG8gbWFrZSBpdCB2aXNpYmxlIGJ5IGRlZmF1bHQgKi9cbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4udGFibGUtY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG92ZXJmbG93OiBhdXRvOyAvKiBJbXBvcnRhbnQgdG8gbWFrZSB0aGUgdGFibGUgc2Nyb2xsYWJsZSBpbiBzbWFsbGVyIGRldmljZXMgKi9cbiAgbWF4LWhlaWdodDogNzV2aDtcbn1cblxuLyogTWVkaWEgUXVlcnkgZm9yIFBob25lcyAqL1xuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHtcbiAgI2RlbGV0ZSB7XG4gICAgd2lkdGg6IDkuNHZoO1xuICB9XG5cbiAgI3VwZGF0ZSB7XG4gICAgd2lkdGg6IDkuNHZoO1xuICB9XG5cblxuICBoMSB7XG4gICAgcGFkZGluZy1ib3R0b206IDF2aDtcbiAgfVxuXG4gICNsaXN0aW5nczo6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIGhlaWdodDogMnB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJhY2tncm91bmQ6IGJsYWNrO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG59XG5cbi8qIE1lZGlhIFF1ZXJ5IGZvciBpUGFkcyAqL1xuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWF4LXdpZHRoOiAxMDI0cHgpIHtcblxuXG4gICNkZWxldGUge1xuICAgIHdpZHRoOiA5LjR2aDtcbiAgfVxuXG5cbiAgI3VwZGF0ZSB7XG4gICAgd2lkdGg6IDkuNHZoO1xuICB9XG5cbiAgLnRhYmxlLWNvbnRhaW5lciB7XG4gICAgbWFyZ2luLWxlZnQ6IDJ2dztcbiAgICBtYXJnaW4tcmlnaHQ6IDJ2dztcbiAgICBwYWRkaW5nLXJpZ2h0OiA1dnc7XG4gICAgcGFkZGluZy10b3A6IDN2aDtcbiAgICBwYWRkaW5nLWxlZnQ6IDA7XG4gICAgcGFkZGluZy1yaWdodDogMDtcbiAgICBwYWRkaW5nLWJvdHRvbTogNXZoO1xuICB9XG5cbiAgaDEge1xuICAgIHBhZGRpbmctYm90dG9tOiAydmg7XG4gIH1cblxuICAjbGlzdGluZ3M6OmFmdGVyIHtcbiAgICBjb250ZW50OiAnJztcbiAgICBoZWlnaHQ6IDJweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMDtcbiAgICBib3R0b206IDA7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ListingsComponent","constructor","_router","_houseService","_route","baseImgUrl","ngOnInit","getMyListings","deleteHouse","house","confirmDelete","confirm","Address","HouseId","subscribe","response","success","window","location","reload","error","console","email","sessionStorage","getItem","getListings","listings","myListings","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/Leo/Desktop/WebApplicationAngular/WebApplicationAngular/ClientApp/src/app/houses/Listings/listings.component.html","/Users/Leo/Desktop/WebApplicationAngular/WebApplicationAngular/ClientApp/src/app/houses/Listings/listings.component.ts"],"sourcesContent":["<head>\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css\" />\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\" crossorigin=\"anonymous\">\n</head>\n\n<div class=\"container-fluid\">\n    <h1>My listings</h1>\n    <div class=\"table-respnsive card\">\n        <table class='table table-hover' style='border: 1px solid #ccc; margin: 0 auto;'>\n            <thead>\n                <tr class=\"table-active table-success\">\n                    <th>Address</th>\n                    <th>Price</th>\n                    <th>Description</th>\n                    <th>Bedrooms</th>\n                    <th>Guests</th>\n                    <th>Image</th>\n                    <th>Actions</th>\n                </tr>\n            </thead>\n            <tbody class=\"table-light\">\n                <tr *ngFor='let listing of myListings' style=\"padding-top: 50px\">\n                    <td>\n                        <a [routerLink]=\"['/details', listing.HouseId]\" id=\"house-link\">{{ listing.Address }}</a>\n                    </td>\n                    <td>{{ listing.Price | convertCurrency : 'kr.' }}</td>\n                    <td>{{ listing.Description }}</td>\n                    <td>{{ listing.Bedrooms }}</td>\n                    <td>{{ listing.Guests }}</td>\n                    <td>\n                        <img [src]=\"(listing.ImageUrl.length > 0) ? (baseImgUrl + listing.Address + '/' + listing.ImageUrl) : (baseImgUrl + 'noimg.jpg')\" alt=\"{{ listing.Address }}\" style=\"width: 90px; height: 50px;\" />\n                    </td>\n                    <td>\n                        <a id=\"update\" [routerLink]=\"['/houseform/edit', listing.HouseId]\" class=\"btn btn-success btn-sm btn\" style=\"margin-right: 10px\"><i class=\"bi bi-pencil-fill\"></i></a>\n                        <a id=\"delete\" class=\"btn btn-danger btn-sm btn\" (click)=\"deleteHouse(listing)\"><i class=\"bi bi-trash-fill\"></i></a>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { IHouse } from '../house';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HouseService } from '../houses.service';\n\n@Component({\n  selector: 'app-listings-component',\n  templateUrl: './listings.component.html',\n  styleUrls: ['./listings.component.css']\n})\n\nexport class ListingsComponent implements OnInit {\n  myListings: IHouse[] = [];\n  userId: number = -1;\n  baseImgUrl: string;\n\n  constructor(private _router: Router,\n    private _houseService: HouseService,\n    private _route: ActivatedRoute) {\n    this.baseImgUrl = \"/assets/images/\";\n  }\n\n  ngOnInit(): void {\n    this.getMyListings();\n  }\n\n  deleteHouse(house: IHouse): void {\n    const confirmDelete = confirm(`Are you sure you want to delete \"${house.Address}\"`);\n    if (confirmDelete) {\n      this._houseService.deleteHouse(house.HouseId).subscribe(\n        (response) => {\n          if (response.success) {\n            window.location.reload();\n          }\n        },\n        (error) => {\n          console.error('Error deleting house:', error);\n        });\n    }\n  }\n\n  getMyListings() {\n    const email = sessionStorage.getItem(\"email\")!;\n    this._houseService.getListings(email)\n      .subscribe(\n        (listings: IHouse[]) => {\n          this.myListings = listings;\n        },\n        (error: any) => {\n          console.error('Error loading listings for edit: ', error);\n        }\n      );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}