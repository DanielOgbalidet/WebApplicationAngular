{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./orders.service\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function (a1) {\n  return [\"/details\", a1];\n};\nconst _c1 = function (a1) {\n  return [\"/orderform\", a1];\n};\nfunction OrderTableComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 6)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"a\", 7);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"a\", 8);\n    i0.ɵɵtext(14, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function OrderTableComponent_tr_21_Template_a_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const order_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteOrder(order_r1));\n    });\n    i0.ɵɵtext(16, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r1.OrderDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r1.StartDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r1.EndDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, order_r1.House.HouseId));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", order_r1.House.Address, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r1.TotalPrice);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c1, order_r1.OrderId));\n  }\n}\nexport class OrderTableComponent {\n  constructor(_router, _orderService, _route) {\n    this._router = _router;\n    this._orderService = _orderService;\n    this._route = _route;\n    this.myOrders = [];\n    this.newOrder = {};\n    this.newUser = {};\n  }\n  ngOnInit() {\n    this.getMyOrders();\n  }\n  getMyOrders() {\n    const email = sessionStorage.getItem(\"email\");\n    this._orderService.getOrders(email).subscribe(orders => {\n      console.log('Orders retrieved successfully:', orders);\n      this.myOrders = orders;\n    }, error => {\n      console.error('Error loading orders: ', error);\n    });\n  }\n  deleteOrder(order) {\n    const confirmDelete = confirm(`Are you sure you want to delete order for \"${order.House.Address}\"`);\n    if (confirmDelete) {\n      this._orderService.deleteOrder(order.OrderId).subscribe(response => {\n        if (response.success) {\n          console.log(\"Order deleted\", response.message);\n          window.location.reload();\n        }\n      }, error => {\n        console.error('Error deleting order:', error);\n      });\n    }\n  }\n}\nOrderTableComponent.ɵfac = function OrderTableComponent_Factory(t) {\n  return new (t || OrderTableComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nOrderTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrderTableComponent,\n  selectors: [[\"app-order-table\"]],\n  decls: 22,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"container-table\", 2, \"margin-left\", \"0px\", \"padding-left\", \"0px\", \"display\", \"flex\", \"justify-content\", \"flex-start\"], [2, \"padding-left\", \"0px\"], [1, \"table\", \"table-hover\", 2, \"min-width\", \"80vw\", \"border\", \"1px solid #ccc\", \"margin\", \"0\"], [1, \"table-header\", \"table-active\", 2, \"min-width\", \"80vw\"], [\"style\", \"min-width: 80vw\", 4, \"ngFor\", \"ngForOf\"], [2, \"min-width\", \"80vw\"], [\"id\", \"house-link\", 3, \"routerLink\"], [\"id\", \"update\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"btn\", 3, \"routerLink\"], [\"id\", \"delete\", 1, \"btn\", \"btn-danger\", \"btn-sm\", \"btn\", 3, \"click\"]],\n  template: function OrderTableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"List of Orders\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"table\", 3)(6, \"thead\")(7, \"tr\", 4)(8, \"th\");\n      i0.ɵɵtext(9, \"Order Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Start Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"End Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"tbody\");\n      i0.ɵɵtemplate(21, OrderTableComponent_tr_21_Template, 17, 11, \"tr\", 5);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.myOrders);\n    }\n  },\n  dependencies: [i3.NgForOf, i1.RouterLink],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  margin-left: 2vw;\\n  padding-right: 5vw;\\n  padding-top: 3vh;\\n  padding-left: 0vw;\\n  padding-right: 0vw;\\n  padding-bottom: 5vh;\\n  margin-right: 2vw;\\n}\\n\\n.container-table[_ngcontent-%COMP%] {\\n  margin-left: 2vw;\\n  padding-right: 5vw;\\n  padding-left: 0vw;\\n  padding-right: 0vw;\\n  padding-bottom: 5vh;\\n  margin-right: 2vw;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  padding-bottom: 2vh;\\n}\\n\\n#order[_ngcontent-%COMP%] {\\n  border: 5px solid #ccc;\\n  padding-top: 1vh;\\n  padding-bottom: 1vh;\\n  padding-right: 1vh;\\n  padding-left: 1vh;\\n  margin-bottom: 20px;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  max-width: 60vw;\\n}\\n\\n#orders[_ngcontent-%COMP%]::after {\\n  content: '';\\n  height: 2px;\\n  width: 100%;\\n  background: black;\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  opacity: 1; \\n  transition: all 0.2s;\\n  pointer-events: none;\\n}\\n\\n\\n.container-table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  overflow: auto; \\n  max-height: 400px;\\n}\\n\\n\\n\\n@media screen and (max-width: 767px) {\\n\\n\\n\\n  #delete[_ngcontent-%COMP%] {\\n    width: 9.4vh;\\n  }\\n\\n  #update[_ngcontent-%COMP%] {\\n    width: 9.4vh;\\n  }\\n}\\n\\n\\n\\n@media screen and (min-width: 768px) and (max-width: 1024px) {\\n\\n\\n  #delete[_ngcontent-%COMP%] {\\n    width: 9.4vh;\\n  }\\n\\n\\n  #update[_ngcontent-%COMP%] {\\n    width: 9.4vh;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvT3JkZXIvVGFibGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFdBQVc7RUFDWCxXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixPQUFPO0VBQ1AsU0FBUztFQUNULFVBQVUsRUFBRSxtREFBbUQ7RUFDL0Qsb0JBQW9CO0VBQ3BCLG9CQUFvQjtBQUN0Qjs7O0FBR0E7RUFDRSxXQUFXO0VBQ1gsY0FBYyxFQUFFLDhEQUE4RDtFQUM5RSxpQkFBaUI7QUFDbkI7OztBQUdBLDJCQUEyQjtBQUMzQjs7OztFQUlFO0lBQ0UsWUFBWTtFQUNkOztFQUVBO0lBQ0UsWUFBWTtFQUNkO0FBQ0Y7OztBQUdBLDBCQUEwQjtBQUMxQjs7O0VBR0U7SUFDRSxZQUFZO0VBQ2Q7OztFQUdBO0lBQ0UsWUFBWTtFQUNkO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgbWFyZ2luLWxlZnQ6IDJ2dztcbiAgcGFkZGluZy1yaWdodDogNXZ3O1xuICBwYWRkaW5nLXRvcDogM3ZoO1xuICBwYWRkaW5nLWxlZnQ6IDB2dztcbiAgcGFkZGluZy1yaWdodDogMHZ3O1xuICBwYWRkaW5nLWJvdHRvbTogNXZoO1xuICBtYXJnaW4tcmlnaHQ6IDJ2dztcbn1cblxuLmNvbnRhaW5lci10YWJsZSB7XG4gIG1hcmdpbi1sZWZ0OiAydnc7XG4gIHBhZGRpbmctcmlnaHQ6IDV2dztcbiAgcGFkZGluZy1sZWZ0OiAwdnc7XG4gIHBhZGRpbmctcmlnaHQ6IDB2dztcbiAgcGFkZGluZy1ib3R0b206IDV2aDtcbiAgbWFyZ2luLXJpZ2h0OiAydnc7XG59XG5cbmgxIHtcbiAgcGFkZGluZy1ib3R0b206IDJ2aDtcbn1cblxuI29yZGVyIHtcbiAgYm9yZGVyOiA1cHggc29saWQgI2NjYztcbiAgcGFkZGluZy10b3A6IDF2aDtcbiAgcGFkZGluZy1ib3R0b206IDF2aDtcbiAgcGFkZGluZy1yaWdodDogMXZoO1xuICBwYWRkaW5nLWxlZnQ6IDF2aDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxudGFibGUge1xuICBtYXgtd2lkdGg6IDYwdnc7XG59XG5cbiNvcmRlcnM6OmFmdGVyIHtcbiAgY29udGVudDogJyc7XG4gIGhlaWdodDogMnB4O1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZDogYmxhY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgYm90dG9tOiAwO1xuICBvcGFjaXR5OiAxOyAvKiBTZXQgb3BhY2l0eSB0byAxIHRvIG1ha2UgaXQgdmlzaWJsZSBieSBkZWZhdWx0ICovXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuXG4uY29udGFpbmVyLXRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG92ZXJmbG93OiBhdXRvOyAvKiBJbXBvcnRhbnQgdG8gbWFrZSB0aGUgdGFibGUgc2Nyb2xsYWJsZSBpbiBzbWFsbGVyIGRldmljZXMgKi9cbiAgbWF4LWhlaWdodDogNDAwcHg7XG59XG5cblxuLyogTWVkaWEgUXVlcnkgZm9yIFBob25lcyAqL1xuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHtcblxuXG5cbiAgI2RlbGV0ZSB7XG4gICAgd2lkdGg6IDkuNHZoO1xuICB9XG5cbiAgI3VwZGF0ZSB7XG4gICAgd2lkdGg6IDkuNHZoO1xuICB9XG59XG5cblxuLyogTWVkaWEgUXVlcnkgZm9yIGlQYWRzICovXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtYXgtd2lkdGg6IDEwMjRweCkge1xuXG5cbiAgI2RlbGV0ZSB7XG4gICAgd2lkdGg6IDkuNHZoO1xuICB9XG5cblxuICAjdXBkYXRlIHtcbiAgICB3aWR0aDogOS40dmg7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;IAgBoBA,6BAA2D;IACnDA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAEIA,YACJ;IAAAA,iBAAI;IAERA,2BAAI;IAAAA,aAAsB;IAAAA,iBAAK;IAC/BA,2BAAI;IAC+FA,uBAAM;IAAAA,iBAAI;IACzGA,6BAA+E;IAA9BA;MAAA;MAAA;MAAA;MAAA,OAASA,2CAAkB;IAAA,EAAC;IAAEA,uBAAM;IAAAA,iBAAI;;;;IAXzFA,eAAqB;IAArBA,wCAAqB;IACrBA,eAAqB;IAArBA,wCAAqB;IACrBA,eAAmB;IAAnBA,sCAAmB;IAEAA,eAAgD;IAAhDA,+EAAgD;IAC/DA,eACJ;IADIA,uDACJ;IAEAA,eAAsB;IAAtBA,yCAAsB;IAEPA,eAA4C;IAA5CA,yEAA4C;;;ACfvF,OAAM,MAAOC,mBAAmB;EAM9BC,YAAoBC,OAAe,EACzBC,aAA2B,EAC3BC,MAAsB;IAFZ,YAAO,GAAPF,OAAO;IACjB,kBAAa,GAAbC,aAAa;IACb,WAAM,GAANC,MAAM;IAPhB,aAAQ,GAAa,EAAE;IACvB,aAAQ,GAAW,EAAY;IAC/B,YAAO,GAAU,EAAW;EAKQ;EAEpCC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAW;IACT,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAE;IAC9C,IAAI,CAACN,aAAa,CAACO,SAAS,CAACH,KAAK,CAAC,CAChCI,SAAS,CACPC,MAAgB,IAAI;MACnBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEF,MAAM,CAAC;MACrD,IAAI,CAACG,QAAQ,GAAGH,MAAM;IACxB,CAAC,EACAI,KAAU,IAAI;MACbH,OAAO,CAACG,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CACF;EACL;EAEAC,WAAW,CAACC,KAAa;IACvB,MAAMC,aAAa,GAAGC,OAAO,CAAC,8CAA8CF,KAAK,CAACG,KAAK,CAACC,OAAO,GAAG,CAAC;IACnG,IAAIH,aAAa,EAAE;MACjB,IAAI,CAAChB,aAAa,CAACc,WAAW,CAACC,KAAK,CAACK,OAAO,CAAC,CAACZ,SAAS,CACpDa,QAAQ,IAAI;QACX,IAAIA,QAAQ,CAACC,OAAO,EAAE;UACpBZ,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEU,QAAQ,CAACE,OAAO,CAAC;UAC9CC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;;MAE5B,CAAC,EACAb,KAAK,IAAI;QACRH,OAAO,CAACG,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C,CAAC,CAAC;;EAER;;AA1CWhB,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAA8B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZhCnC,8BAAuB;MACfA,8BAAc;MAAAA,iBAAK;MACvBA,8BAAqH;MAK7FA,0BAAU;MAAAA,iBAAK;MACnBA,2BAAI;MAAAA,2BAAU;MAAAA,iBAAK;MACnBA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAChBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAGxBA,8BAAO;MACHA,sEAcK;MACTA,iBAAQ;;;MAfkBA,gBAAW;MAAXA,sCAAW","names":["i0","OrderTableComponent","constructor","_router","_orderService","_route","ngOnInit","getMyOrders","email","sessionStorage","getItem","getOrders","subscribe","orders","console","log","myOrders","error","deleteOrder","order","confirmDelete","confirm","House","Address","OrderId","response","success","message","window","location","reload","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/Leo/Desktop/WebApplicationAngular/WebApplicationAngular/ClientApp/src/app/Order/Table.component.html","/Users/Leo/Desktop/WebApplicationAngular/WebApplicationAngular/ClientApp/src/app/Order/Table.component.ts"],"sourcesContent":["<div class=\"container\">\n    <h1>List of Orders</h1>\n    <div class=\"container-table\" style=\"margin-left:0px; padding-left: 0px; display: flex; justify-content: flex-start;\">\n        <div style=\"padding-left: 0px;\">\n            <table class='table table-hover' style='min-width: 80vw; border: 1px solid #ccc; margin: 0;'>\n                <thead>\n                    <tr class=\"table-header table-active\" style='min-width: 80vw; '>\n                        <th>Order Date</th>\n                        <th>Start Date</th>\n                        <th>End Date</th>\n                        <th>Address</th>\n                        <th>Price</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let order of myOrders\" style=\"min-width: 80vw\">\n                        <td>{{ order.OrderDate }}</td>\n                        <td>{{ order.StartDate }}</td>\n                        <td>{{ order.EndDate }}</td>\n                        <td>\n                            <a id=\"house-link\" [routerLink]=\"['/details', order.House.HouseId]\">\n                                {{ order.House.Address }}\n                            </a>\n                        </td>\n                        <td>{{ order.TotalPrice }}</td>\n                        <td>\n                            <a id=\"update\" [routerLink]=\"['/orderform', order.OrderId]\" class=\"btn btn-success btn-sm btn\">Update</a>\n                            <a id=\"delete\" class=\"btn btn-danger btn-sm btn\" (click)=\"deleteOrder(order)\" >Delete</a>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { IOrder } from './order';\nimport { IUser } from '../users/user';\nimport { OrderService } from './orders.service';\n\n@Component({\n  selector: 'app-order-table',\n  templateUrl: './Table.component.html',\n  styleUrls: ['./Table.component.css'],\n})\n\nexport class OrderTableComponent implements OnInit {\n  myOrders: IOrder[] = [];\n  newOrder: IOrder = {} as IOrder;\n  newUser: IUser = {} as IUser;\n\n\n  constructor(private _router: Router,\n    private _orderService: OrderService,\n    private _route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.getMyOrders();\n  }\n\n  getMyOrders() {\n    const email = sessionStorage.getItem(\"email\")!;\n    this._orderService.getOrders(email)\n      .subscribe(\n        (orders: IOrder[]) => {\n          console.log('Orders retrieved successfully:', orders);\n          this.myOrders = orders;\n        },\n        (error: any) => {\n          console.error('Error loading orders: ', error);\n        }\n      );\n  }\n\n  deleteOrder(order: IOrder): void {\n    const confirmDelete = confirm(`Are you sure you want to delete order for \"${order.House.Address}\"`);\n    if (confirmDelete) {\n      this._orderService.deleteOrder(order.OrderId).subscribe(\n        (response) => {\n          if (response.success) {\n            console.log(\"Order deleted\", response.message);\n            window.location.reload();\n          }\n        },\n        (error) => {\n          console.error('Error deleting order:', error);\n        });\n    }\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}