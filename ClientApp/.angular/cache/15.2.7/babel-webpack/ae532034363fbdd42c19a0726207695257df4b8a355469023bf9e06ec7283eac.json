{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListingsComponent = class ListingsComponent {\n  constructor(_router, _houseService, _route) {\n    this._router = _router;\n    this._houseService = _houseService;\n    this._route = _route;\n    this.myListings = [];\n    this.userId = -1;\n    this.baseImgUrl = \"/assets/images/\";\n  }\n  ngOnInit() {\n    this.getMyListings();\n  }\n  deleteHouse(house) {\n    const confirmDelete = confirm(`Are you sure you want to delete \"${house.Address}\"`);\n    if (confirmDelete) {\n      this._houseService.deleteHouse(house.HouseId).subscribe(response => {\n        if (response.success) {\n          console.log(\"House deleted\", response.message);\n          window.location.reload();\n        }\n      }, error => {\n        console.error('Error deleting house:', error);\n      });\n    }\n  }\n  getMyListings() {\n    console.log(\"Get listings started\");\n    const email = sessionStorage.getItem(\"email\");\n    this._houseService.getListings(email).subscribe(listings => {\n      console.log('retreived listings: ', JSON.stringify(listings));\n      this.myListings = listings;\n    }, error => {\n      console.error('Error loading listings for edit: ', error);\n    });\n  }\n};\nListingsComponent = __decorate([Component({\n  selector: 'app-listings-component',\n  templateUrl: './listings.component.html',\n  styleUrls: ['./listings.component.css']\n})], ListingsComponent);\nexport { ListingsComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAK5BC,YAAoBC,OAAe,EACzBC,aAA2B,EAC3BC,MAAsB;IAFZ,YAAO,GAAPF,OAAO;IACjB,kBAAa,GAAbC,aAAa;IACb,WAAM,GAANC,MAAM;IANhB,eAAU,GAAa,EAAE;IACzB,WAAM,GAAW,CAAC,CAAC;IAMjB,IAAI,CAACC,UAAU,GAAG,iBAAiB;EACrC;EAEAC,QAAQ;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAC,WAAW,CAACC,KAAa;IACvB,MAAMC,aAAa,GAAGC,OAAO,CAAC,oCAAoCF,KAAK,CAACG,OAAO,GAAG,CAAC;IACnF,IAAIF,aAAa,EAAE;MACjB,IAAI,CAACP,aAAa,CAACK,WAAW,CAACC,KAAK,CAACI,OAAO,CAAC,CAACC,SAAS,CACpDC,QAAQ,IAAI;QACX,IAAIA,QAAQ,CAACC,OAAO,EAAE;UACpBC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEH,QAAQ,CAACI,OAAO,CAAC;UAC9CC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;;MAE5B,CAAC,EACAC,KAAK,IAAI;QACRN,OAAO,CAACM,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C,CAAC,CAAC;;EAER;EAEAhB,aAAa;IACXU,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACnC,MAAMM,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAE;IAC9C,IAAI,CAACvB,aAAa,CAACwB,WAAW,CAACH,KAAK,CAAC,CAClCV,SAAS,CACPc,QAAkB,IAAI;MACrBX,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEW,IAAI,CAACC,SAAS,CAACF,QAAQ,CAAC,CAAC;MAC7D,IAAI,CAACG,UAAU,GAAGH,QAAQ;IAC5B,CAAC,EACAL,KAAU,IAAI;MACbN,OAAO,CAACM,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IAC3D,CAAC,CACF;EACL;CACD;AA7CYvB,iBAAiB,eAN7BD,SAAS,CAAC;EACTiC,QAAQ,EAAE,wBAAwB;EAClCC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GAEWlC,iBAAiB,CA6C7B;SA7CYA,iBAAiB","names":["Component","ListingsComponent","constructor","_router","_houseService","_route","baseImgUrl","ngOnInit","getMyListings","deleteHouse","house","confirmDelete","confirm","Address","HouseId","subscribe","response","success","console","log","message","window","location","reload","error","email","sessionStorage","getItem","getListings","listings","JSON","stringify","myListings","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\danie\\WebApplikasjoner\\WebApplicationAngular\\ClientApp\\src\\app\\houses\\Listings\\listings.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { IHouse } from '../house';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HouseService } from '../houses.service';\r\n\r\n@Component({\r\n  selector: 'app-listings-component',\r\n  templateUrl: './listings.component.html',\r\n  styleUrls: ['./listings.component.css']\r\n})\r\n\r\nexport class ListingsComponent implements OnInit {\r\n  myListings: IHouse[] = [];\r\n  userId: number = -1;\r\n  baseImgUrl: string;\r\n\r\n  constructor(private _router: Router,\r\n    private _houseService: HouseService,\r\n    private _route: ActivatedRoute) {\r\n    this.baseImgUrl = \"/assets/images/\";\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getMyListings();\r\n  }\r\n\r\n  deleteHouse(house: IHouse): void {\r\n    const confirmDelete = confirm(`Are you sure you want to delete \"${house.Address}\"`);\r\n    if (confirmDelete) {\r\n      this._houseService.deleteHouse(house.HouseId).subscribe(\r\n        (response) => {\r\n          if (response.success) {\r\n            console.log(\"House deleted\", response.message);\r\n            window.location.reload();\r\n          }\r\n        },\r\n        (error) => {\r\n          console.error('Error deleting house:', error);\r\n        });\r\n    }\r\n  }\r\n\r\n  getMyListings() {\r\n    console.log(\"Get listings started\");\r\n    const email = sessionStorage.getItem(\"email\")!;\r\n    this._houseService.getListings(email)\r\n      .subscribe(\r\n        (listings: IHouse[]) => {\r\n          console.log('retreived listings: ', JSON.stringify(listings));\r\n          this.myListings = listings;\r\n        },\r\n        (error: any) => {\r\n          console.error('Error loading listings for edit: ', error);\r\n        }\r\n      );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}