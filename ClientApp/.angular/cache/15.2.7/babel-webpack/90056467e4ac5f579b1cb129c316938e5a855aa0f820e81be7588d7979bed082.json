{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../users.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"strong\");\n    i0.ɵɵtext(2, \"Either your email or password was incorrect. Please try again. \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 12);\n  }\n}\nconst _c0 = function () {\n  return [\"/register\"];\n};\nexport class LoginComponent {\n  constructor(_router, _userService) {\n    this._router = _router;\n    this._userService = _userService;\n    this.loginFail = false;\n  }\n  onSubmit() {\n    //Check if email and password exsist in our table\n    this._userService.checkLogin(this.email, this.password).subscribe(loggedIn => {\n      if (!loggedIn) {\n        //Show error message if user can't log in\n        this.loginFail = true;\n      } else {\n        //If user log in, a new session is created\n        this.loginFail = false;\n        sessionStorage.setItem(\"email\", this.email);\n        this._router.navigate(['/nav-menu']).then(() => {\n          window.location.reload();\n        });\n      }\n    });\n  }\n  ngOnInit() {}\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login-component\"]],\n  decls: 24,\n  vars: 6,\n  consts: [[\"charset\", \"utf-8\"], [\"method\", \"post\", 3, \"ngSubmit\"], [1, \"container-fluid\"], [\"class\", \"alert alert-danger box-msg\", \"role\", \"alert\", 4, \"ngIf\"], [\"id\", \"unameLabel\", \"for\", \"uname\"], [\"type\", \"text\", \"name\", \"uname\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"pswLabel\", \"for\", \"psw\"], [\"type\", \"password\", \"name\", \"psw\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"login\", \"type\", \"submit\", 1, \"login-button\", 3, \"click\"], [\"class\", \"loader\", 4, \"ngIf\"], [3, \"routerLink\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"box-msg\"], [1, \"loader\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\")(1, \"head\");\n      i0.ɵɵelement(2, \"meta\", 0)(3, \"title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"body\")(5, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"h1\");\n      i0.ɵɵtext(8, \" Log in \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, LoginComponent_div_9_Template, 3, 0, \"div\", 3);\n      i0.ɵɵelementStart(10, \"label\", 4)(11, \"b\");\n      i0.ɵɵtext(12, \"Email\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"label\", 6)(15, \"b\");\n      i0.ɵɵtext(16, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_18_listener() {\n        return ctx.loader();\n      });\n      i0.ɵɵelementStart(19, \"div\");\n      i0.ɵɵtext(20, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, LoginComponent_div_21_Template, 1, 0, \"div\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"button\", 10);\n      i0.ɵɵtext(23, \"Register\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.loginFail);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.loaderCheck);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c0));\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i1.RouterLink],\n  styles: [\"h1[_ngcontent-%COMP%] {\\n  margin-bottom: 2.5vh;\\n}\\n\\n.container-fluid[_ngcontent-%COMP%] {\\n  margin-left: 2vw;\\n  padding-right: 5vw;\\n  padding-top: 3vh;\\n  padding-left: 0px;\\n  padding-right: 0px;\\n  padding-bottom: 5vh;\\n  margin-right: 2vw;\\n  width: 40%;\\n}\\n\\n#unameLabel[_ngcontent-%COMP%] {\\n  margin-bottom: 1vh;\\n}\\n\\n#pswLabel[_ngcontent-%COMP%] {\\n  margin-bottom: 1vh;\\n}\\n\\n\\ninput[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-bottom: 2vh;\\n  padding: 1.5vh 1.5vw;\\n  display: inline-block;\\n  border: 1px solid #ccc;\\n  box-sizing: border-box;\\n  border-radius: 5px;\\n}\\n\\n\\nbutton[_ngcontent-%COMP%] {\\n  background-color: #2f78c6;\\n  color: white;\\n  padding: 14px 20px;\\n  margin: 8px 0;\\n  border: none;\\n  cursor: pointer;\\n  width: 100%;\\n  border-radius: 5px;\\n}\\n\\n  \\n  button[_ngcontent-%COMP%]:hover {\\n    opacity: 0.8;\\n  }\\n\\n#login[_ngcontent-%COMP%] {\\n  margin-top: 2vh;\\n  display: flex;\\n  align-items: center;\\n}\\n\\n\\n.loader[_ngcontent-%COMP%] {\\n  border: 4px solid rgba(0, 0, 0, 0.1);\\n  border-top: 4px solid #3498db; \\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  display: inline-block;\\n  margin-left: 10px; \\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n\\n.login-button[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center; \\n  position: relative; \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlcnMvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQixVQUFVO0FBQ1o7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUEsc0JBQXNCO0FBQ3RCO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixvQkFBb0I7RUFDcEIscUJBQXFCO0VBQ3JCLHNCQUFzQjtFQUN0QixzQkFBc0I7RUFDdEIsa0JBQWtCO0FBQ3BCOztBQUVBLGdDQUFnQztBQUNoQztFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixZQUFZO0VBQ1osZUFBZTtFQUNmLFdBQVc7RUFDWCxrQkFBa0I7QUFDcEI7O0VBRUUsbUNBQW1DO0VBQ25DO0lBQ0UsWUFBWTtFQUNkOztBQUVGO0VBQ0UsZUFBZTtFQUNmLGFBQWE7RUFDYixtQkFBbUI7QUFDckI7O0FBRUEsbUNBQW1DO0FBQ25DO0VBQ0Usb0NBQW9DO0VBQ3BDLDZCQUE2QixFQUFFLDJCQUEyQjtFQUMxRCxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFlBQVk7RUFDWixrQ0FBa0M7RUFDbEMscUJBQXFCO0VBQ3JCLGlCQUFpQixFQUFFLDJDQUEyQztBQUNoRTs7QUFFQTtFQUNFO0lBQ0UseUJBQXlCO0VBQzNCO0FBQ0Y7O0FBRUEsMkNBQTJDO0FBQzNDO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUIsRUFBRSx3QkFBd0I7RUFDakQsa0JBQWtCLEVBQUUsc0NBQXNDO0FBQzVEIiwic291cmNlc0NvbnRlbnQiOlsiaDEge1xuICBtYXJnaW4tYm90dG9tOiAyLjV2aDtcbn1cblxuLmNvbnRhaW5lci1mbHVpZCB7XG4gIG1hcmdpbi1sZWZ0OiAydnc7XG4gIHBhZGRpbmctcmlnaHQ6IDV2dztcbiAgcGFkZGluZy10b3A6IDN2aDtcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDBweDtcbiAgcGFkZGluZy1ib3R0b206IDV2aDtcbiAgbWFyZ2luLXJpZ2h0OiAydnc7XG4gIHdpZHRoOiA0MCU7XG59XG5cbiN1bmFtZUxhYmVsIHtcbiAgbWFyZ2luLWJvdHRvbTogMXZoO1xufVxuXG4jcHN3TGFiZWwge1xuICBtYXJnaW4tYm90dG9tOiAxdmg7XG59XG5cbi8qIEZ1bGwtd2lkdGggaW5wdXRzICovXG5pbnB1dFt0eXBlPXRleHRdLCBpbnB1dFt0eXBlPXBhc3N3b3JkXSB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW4tYm90dG9tOiAydmg7XG4gIHBhZGRpbmc6IDEuNXZoIDEuNXZ3O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuLyogU2V0IGEgc3R5bGUgZm9yIGFsbCBidXR0b25zICovXG5idXR0b24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmY3OGM2O1xuICBjb2xvcjogd2hpdGU7XG4gIHBhZGRpbmc6IDE0cHggMjBweDtcbiAgbWFyZ2luOiA4cHggMDtcbiAgYm9yZGVyOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbiAgLyogQWRkIGEgaG92ZXIgZWZmZWN0IGZvciBidXR0b25zICovXG4gIGJ1dHRvbjpob3ZlciB7XG4gICAgb3BhY2l0eTogMC44O1xuICB9XG5cbiNsb2dpbiB7XG4gIG1hcmdpbi10b3A6IDJ2aDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLyogU3R5bGVzIGZvciB0aGUgbG9hZGluZyBzcGlubmVyICovXG4ubG9hZGVyIHtcbiAgYm9yZGVyOiA0cHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBib3JkZXItdG9wOiA0cHggc29saWQgIzM0OThkYjsgLyogQ2hhbmdlIGNvbG9yIGlmIG5lZWRlZCAqL1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHdpZHRoOiAyMHB4O1xuICBoZWlnaHQ6IDIwcHg7XG4gIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7IC8qIEFkanVzdCBzcGFjaW5nIGJldHdlZW4gdGV4dCBhbmQgbG9hZGVyICovXG59XG5cbkBrZXlmcmFtZXMgc3BpbiB7XG4gIHRvIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICB9XG59XG5cbi8qIEFkZGl0aW9uYWwgc3R5bGVzIGZvciB0aGUgbG9naW4gYnV0dG9uICovXG4ubG9naW4tYnV0dG9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IC8qIENlbnRlciBob3Jpem9udGFsbHkgKi9cbiAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBOZWVkZWQgZm9yIHBvc2l0aW9uaW5nIHRoZSBsb2FkZXIgKi9cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAYYA,+BAAuE;IAC3DA,+EAA+D;IAAAA,iBAAS;;;;;IAUhFA,0BAA8C;;;;;;ACb9D,OAAM,MAAOC,cAAc;EAMzBC,YAAoBC,OAAe,EACzBC,YAAyB;IADf,YAAO,GAAPD,OAAO;IACjB,iBAAY,GAAZC,YAAY;IAHf,cAAS,GAAG,KAAK;EAGe;EAEvCC,QAAQ;IACN;IACA,IAAI,CAACD,YAAY,CAACE,UAAU,CAAC,IAAI,CAACC,KAAK,EAAE,IAAI,CAACC,QAAQ,CAAC,CAACC,SAAS,CAAEC,QAAQ,IAAI;MAC7E,IAAI,CAACA,QAAQ,EAAE;QACb;QACA,IAAI,CAACC,SAAS,GAAG,IAAI;OACtB,MAAM;QACL;QACA,IAAI,CAACA,SAAS,GAAG,KAAK;QACtBC,cAAc,CAACC,OAAO,CAAC,OAAO,EAAE,IAAI,CAACN,KAAK,CAAC;QAC3C,IAAI,CAACJ,OAAO,CAACW,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,MAAK;UAC7CC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;QAC1B,CAAC,CAAC;;IAEN,CAAC,CAAC;EACJ;EAEAC,QAAQ,IAER;;AA5BWlB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT3BxB,4BAAM;MAEFA,0BAAwB;MAE5BA,iBAAO;MACPA,4BAAM;MACIA;QAAA,OAAYyB,cAAU;MAAA,EAAC;MACzBzB,8BAA6B;MAErBA,wBACJ;MAAAA,iBAAK;MACLA,+DAEM;MACNA,iCAAmC;MAAGA,sBAAK;MAAAA,iBAAI;MAC/CA,iCAA6D;MAApBA;QAAA;MAAA,EAAmB;MAA5DA,iBAA6D;MAE7DA,iCAA+B;MAAGA,yBAAQ;MAAAA,iBAAI;MAC9CA,iCAAkE;MAAvBA;QAAA;MAAA,EAAsB;MAAjEA,iBAAkE;MAElEA,kCAAyE;MAAnBA;QAAA,OAASyB,YAAQ;MAAA,EAAC;MACpEzB,4BAAK;MAAAA,sBAAK;MAAAA,iBAAM;MAChBA,iEAA8C;MAClDA,iBAAS;MACTA,mCAAqC;MAAAA,yBAAQ;MAAAA,iBAAS;;;MAbhDA,eAAe;MAAfA,oCAAe;MAIoBA,eAAmB;MAAnBA,mCAAmB;MAGjBA,eAAsB;MAAtBA,sCAAsB;MAIvDA,eAAiB;MAAjBA,sCAAiB;MAEnBA,eAA4B;MAA5BA,uDAA4B","names":["i0","LoginComponent","constructor","_router","_userService","onSubmit","checkLogin","email","password","subscribe","loggedIn","loginFail","sessionStorage","setItem","navigate","then","window","location","reload","ngOnInit","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/Leo/WebApplicationAngular/ClientApp/src/app/users/login/login.component.html","/Users/Leo/WebApplicationAngular/ClientApp/src/app/users/login/login.component.ts"],"sourcesContent":["<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\" />\n    <title></title>\n</head>\n<body>\n    <form (ngSubmit)=\"onSubmit()\" method=\"post\">\n        <div class=\"container-fluid\">\n            <h1>\n                Log in\n            </h1>\n            <div *ngIf=\"loginFail\" class=\"alert alert-danger box-msg\" role=\"alert\">\n                <strong>Either your email or password was incorrect. Please try again. </strong>\n            </div>\n            <label id=\"unameLabel\" for=\"uname\"><b>Email</b></label>\n            <input type=\"text\" name=\"uname\" required [(ngModel)]=\"email\">\n\n            <label id=\"pswLabel\" for=\"psw\"><b>Password</b></label>\n            <input type=\"password\" name=\"psw\" required [(ngModel)]=\"password\">\n\n            <button id=\"login\" type=\"submit\" class=\"login-button\" (click)=\"loader()\">\n                <div>Login</div>\n                <div *ngIf=\"loaderCheck\" class=\"loader\"></div>\n            </button>\n            <button [routerLink]=\"['/register']\">Register</button>\n        </div>\n    </form>\n</body>\n</html>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UserService } from '../users.service';\n\n@Component({\n  selector: 'app-login-component',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\n\nexport class LoginComponent implements OnInit {\n\n  email!: string;\n  password!: string;\n  public loginFail = false;\n\n  constructor(private _router: Router,\n    private _userService: UserService) { }\n\n  onSubmit() {\n    //Check if email and password exsist in our table\n    this._userService.checkLogin(this.email, this.password).subscribe((loggedIn) => {\n      if (!loggedIn) {\n        //Show error message if user can't log in\n        this.loginFail = true;\n      } else {\n        //If user log in, a new session is created\n        this.loginFail = false;\n        sessionStorage.setItem(\"email\", this.email);\n        this._router.navigate(['/nav-menu']).then(() => {\n          window.location.reload()\n        });\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    \n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}