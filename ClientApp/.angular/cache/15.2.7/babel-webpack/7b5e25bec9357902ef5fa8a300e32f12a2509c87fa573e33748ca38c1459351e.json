{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../houses.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../modal/modal.component\";\nimport * as i5 from \"../../shared/convertPipe\";\nconst _c0 = [\"startDateInput\"];\nconst _c1 = [\"endDateInput\"];\nfunction DetailsComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r0.newHouse.ImageUrl);\n    i0.ɵɵproperty(\"src\", ctx_r0.images[0], i0.ɵɵsanitizeUrl);\n  }\n}\nfunction DetailsComponent_ng_container_4_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"img\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const image_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", i_r5 === ctx_r3.currentSlideIndex);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", image_r4, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction DetailsComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 6)(2, \"div\", 7)(3, \"div\", 8);\n    i0.ɵɵtemplate(4, DetailsComponent_ng_container_4_div_4_Template, 2, 3, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_ng_container_4_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.prevSlide());\n    });\n    i0.ɵɵelement(6, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_ng_container_4_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.nextSlide());\n    });\n    i0.ɵɵelement(8, \"span\", 13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.images);\n  }\n}\nfunction DetailsComponent_div_5_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 35);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r9.newHouse.ImageUrl);\n    i0.ɵɵproperty(\"src\", ctx_r9.baseImgUrl + \"noimg.jpg\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction DetailsComponent_div_5_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"img\", 36);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_div_5_ng_container_4_Template_img_click_1_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.openModal());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r10.newHouse.ImageUrl);\n    i0.ɵɵproperty(\"src\", ctx_r10.images[0], i0.ɵɵsanitizeUrl);\n  }\n}\nfunction DetailsComponent_div_5_ng_container_5_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"img\", 40);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_div_5_ng_container_5_div_4_Template_img_click_1_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r23.openModal());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const image_r21 = ctx.$implicit;\n    const i_r22 = ctx.index;\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"active\", i_r22 === ctx_r20.currentSlideIndex);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", image_r21, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction DetailsComponent_div_5_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 17)(2, \"div\", 37)(3, \"div\", 8);\n    i0.ɵɵtemplate(4, DetailsComponent_div_5_ng_container_5_div_4_Template, 2, 3, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 38);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_div_5_ng_container_5_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.prevSlide());\n    });\n    i0.ɵɵelement(6, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_div_5_ng_container_5_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.nextSlide());\n    });\n    i0.ɵɵelement(8, \"span\", 13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.images);\n  }\n}\nfunction DetailsComponent_div_5_span_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 41, 42);\n    i0.ɵɵtext(2, \" The start date must be earlier than end date \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DetailsComponent_div_5_tr_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 43)(1, \"th\")(2, \"p\");\n    i0.ɵɵelement(3, \"i\", 44);\n    i0.ɵɵtext(4, \" Number of nights:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"td\")(6, \"p\", 45, 46);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r15.numberOfNights);\n  }\n}\nfunction DetailsComponent_div_5_tr_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 43)(1, \"th\")(2, \"p\");\n    i0.ɵɵelement(3, \"i\", 47);\n    i0.ɵɵtext(4, \" TOTAL PRICE: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"td\")(6, \"p\", 48);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"convertCurrency\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 1, ctx_r16.totalPrice, \"kr.\"));\n  }\n}\nfunction DetailsComponent_div_5_tr_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 43)(1, \"td\")(2, \"button\", 49);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_div_5_tr_58_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.createOrder());\n    });\n    i0.ɵɵtext(3, \"Order\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction DetailsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17)(2, \"div\", 18);\n    i0.ɵɵtemplate(3, DetailsComponent_div_5_ng_container_3_Template, 2, 2, \"ng-container\", 2);\n    i0.ɵɵtemplate(4, DetailsComponent_div_5_ng_container_4_Template, 2, 2, \"ng-container\", 2);\n    i0.ɵɵtemplate(5, DetailsComponent_div_5_ng_container_5_Template, 9, 1, \"ng-container\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 19)(7, \"div\", 20)(8, \"h1\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 21);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"h3\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"convertCurrency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"table\", 22)(16, \"tbody\")(17, \"tr\")(18, \"th\");\n    i0.ɵɵelement(19, \"i\", 23);\n    i0.ɵɵtext(20, \" Bedrooms:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"tr\")(24, \"th\");\n    i0.ɵɵelement(25, \"i\", 24);\n    i0.ɵɵtext(26, \" Guests:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\");\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"tr\")(30, \"th\");\n    i0.ɵɵelement(31, \"i\", 25);\n    i0.ɵɵtext(32, \" Owner:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"td\");\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(35, \"div\", 26)(36, \"div\", 27)(37, \"h3\");\n    i0.ɵɵtext(38, \"Choose dates and order here!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"table\", 22)(40, \"tbody\")(41, \"tr\")(42, \"th\");\n    i0.ɵɵtext(43, \"FROM:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"th\");\n    i0.ɵɵtext(45, \"TO:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(46, \"tr\")(47, \"td\")(48, \"input\", 28, 29);\n    i0.ɵɵlistener(\"change\", function DetailsComponent_div_5_Template_input_change_48_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.updateDays());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"td\")(51, \"input\", 30, 31);\n    i0.ɵɵlistener(\"change\", function DetailsComponent_div_5_Template_input_change_51_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.updateDays());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(53, \"tr\", 32)(54, \"td\");\n    i0.ɵɵtemplate(55, DetailsComponent_div_5_span_55_Template, 3, 0, \"span\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(56, DetailsComponent_div_5_tr_56_Template, 9, 1, \"tr\", 34);\n    i0.ɵɵtemplate(57, DetailsComponent_div_5_tr_57_Template, 9, 4, \"tr\", 34);\n    i0.ɵɵtemplate(58, DetailsComponent_div_5_tr_58_Template, 4, 0, \"tr\", 34);\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.numberOfFiles === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.numberOfFiles === 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.numberOfFiles > 1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.newHouse.Address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.newHouse.Description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 19, ctx_r2.newHouse.Price, \"kr.\"));\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r2.newHouse.Bedrooms);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r2.newHouse.Guests);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate3(\"\", ctx_r2.newHouse.User.FirstName, \" \", ctx_r2.newHouse.User.LastName, \", \", ctx_r2.newHouse.User.Email, \" \");\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"value\", ctx_r2.startDateMin)(\"min\", ctx_r2.startDateMin);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"min\", ctx_r2.endDateMinString)(\"value\", ctx_r2.endDateMinString);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.invalidDates);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.invalidDates);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.invalidDates);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.invalidDates);\n  }\n}\nexport class DetailsComponent {\n  constructor(_router, _houseService, _route) {\n    this._router = _router;\n    this._houseService = _houseService;\n    this._route = _route;\n    // Variables to control the specific house to look at \n    this.startDateMin = new Date().toISOString().split('T')[0]; // Current date in YYYY-MM-DD format\n    this.endDateMin = new Date(this.startDateMin);\n    this.endDateMinString = '';\n    this.newHouse = {}; // Adjust the type according to your house object structure\n    this.newUser = {};\n    this.houseId = -1;\n    this.userId = -1;\n    this.numberOfNights = 1;\n    this.numberOfFiles = 0;\n    this.images = [];\n    this.totalPrice = 0;\n    this.invalidDates = false;\n    this.currentSlideIndex = 0;\n    // Variable to create order\n    this.newOrder = {};\n    this.newOrderUser = {};\n    this.showModal = false;\n    this.baseImgUrl = \"/assets/images/\";\n  }\n  ngOnInit() {\n    window.scrollTo(0, 0);\n    this._route.params.subscribe(params => {\n      this.houseId = +params['id'];\n      this.getHouse(this.houseId);\n      this.endDateMin.setDate(this.endDateMin.getDate() + 1); // Add one day\n      this.endDateMinString = new Date(this.endDateMin).toISOString().split('T')[0]; // Current date in YYYY-MM-DD format\n    });\n\n    this._houseService.showId(sessionStorage.getItem(\"email\")).subscribe(userIdValue => {\n      // Update the userId in the form\n      this.userId = userIdValue;\n    }, error => {\n      console.error(\"Error fetching userId:\", error);\n    });\n  }\n  createOrder() {\n    if (sessionStorage.getItem(\"email\") === null) {\n      this._router.navigate(['/login']);\n    }\n    // Creating order object to save in DB\n    this.newOrder.OrderDate = new Date().toISOString().split('T')[0]; // Todays date in ISO format\n    // Temp userId\n    this.newOrder.UserId = 1;\n    this.newOrder.HouseId = this.houseId;\n    this.newOrder.House = this.newHouse;\n    this.newOrder.UserId = this.userId;\n    // Get values from input fields (startDate and endDate)\n    const startDateValue = this.startDateInput.nativeElement.value; // Start date input\n    const endDateValue = this.endDateInput.nativeElement.value; // End date input\n    this.newOrder.StartDate = startDateValue;\n    this.newOrder.EndDate = endDateValue;\n    this.newOrder.TotalPrice = this.totalPrice;\n    // Creating order \n    this._houseService.createOrder(this.newOrder).subscribe(response => {\n      if (response.success) {\n        console.log(response.message);\n        this._router.navigate(['/Table']);\n      } else {\n        console.log(\"Order creation failed\");\n      }\n    });\n  }\n  getHouse(houseId) {\n    this._houseService.getHouseById(houseId).subscribe(house => {\n      console.log('retreived house: ', house);\n      console.log('retreived user: ', house.user);\n      this.newHouse = house;\n      this.newHouse.User = house.user;\n      this.totalPrice = this.newHouse.Price;\n      // this.updateDays();\n      const address = this.newHouse.Address;\n      this.getImages(address);\n      console.log(\"New House: \", this.newHouse);\n    }, error => {\n      console.error('Error loading house for edit: ', error);\n    });\n  }\n  getImages(address) {\n    console.log(\"Address to el manzion: \", address);\n    this._houseService.getImages(address).subscribe(result => {\n      console.log(\"Result: \", result);\n      this.numberOfFiles = result && result.imgCount ? result.imgCount : 0;\n      this.images = result && result.images ? result.images : [];\n      console.log(\"Number of images: \", this.numberOfFiles);\n      console.log(\"Images: \", this.images);\n    }, error => {\n      console.error(\"Error fetching number of files:\", error);\n    });\n  }\n  prevSlide() {\n    this.currentSlideIndex = (this.currentSlideIndex - 1 + this.images.length) % this.images.length;\n  }\n  nextSlide() {\n    this.currentSlideIndex = (this.currentSlideIndex + 1) % this.images.length;\n  }\n  isObjectEmpty(obj) {\n    return Object.keys(obj).length === 0;\n  }\n  // Function to handle date changes in the order area\n  updateDays() {\n    const startDateValue = this.startDateInput.nativeElement.value;\n    const endDateValue = this.endDateInput.nativeElement.value;\n    // Turn it into date objects so we can calculate the difference in days\n    const newstartDate = new Date(startDateValue);\n    const newendDate = new Date(endDateValue);\n    // Calculate the difference in milliseconds\n    const differenceInMs = newendDate.getTime() - newstartDate.getTime();\n    // Convert milliseconds to days\n    const differenceInDays = Math.ceil(differenceInMs / (1000 * 60 * 60 * 24));\n    // Check if the date difference is negative, if it is, type out error message\n    if (differenceInDays <= 0) {\n      this.invalidDates = true;\n      this.totalPrice = 0;\n      this.numberOfNights = 0;\n    } else {\n      // Change the values on the screen if values are valid\n      this.invalidDates = false;\n      this.totalPrice = differenceInDays * this.newHouse.Price;\n      console.log(\"Updated total price\", this.totalPrice);\n      this.numberOfNights = differenceInDays;\n    }\n    console.log(\"Date update\");\n    console.log(\"Start date\", startDateValue);\n    console.log(\"End date\", endDateValue);\n    console.log('Difference in days:', differenceInDays);\n  }\n  openModal() {\n    this.showModal = true;\n  }\n  closeModal() {\n    this.showModal = false;\n  }\n}\nDetailsComponent.ɵfac = function DetailsComponent_Factory(t) {\n  return new (t || DetailsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HouseService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetailsComponent,\n  selectors: [[\"app-details\"]],\n  viewQuery: function DetailsComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.startDateInput = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.endDateInput = _t.first);\n    }\n  },\n  decls: 6,\n  vars: 4,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css\"], [3, \"showModal\", \"closeModal\"], [4, \"ngIf\"], [\"class\", \"container-fluid\", \"id\", \"details_container\", 4, \"ngIf\"], [1, \"text-center\"], [1, \"img-fluid\", 3, \"src\", \"alt\"], [1, \"modal-content\"], [\"id\", \"carouselModal\", \"data-ride\", \"carousel\", 1, \"carousel\", \"slide\"], [1, \"carousel-inner\"], [\"class\", \"carousel-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"indicator\", \"role\", \"button\", \"data-slide\", \"prev\", 1, \"carousel-control-prev\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"carousel-control-prev-icon\"], [\"id\", \"indicator\", \"role\", \"button\", \"data-slide\", \"next\", 1, \"carousel-control-next\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"carousel-control-next-icon\"], [1, \"carousel-item\"], [\"id\", \"carimg\", \"alt\", \"Slide\", 1, \"d-block\", \"img-fluid\", 3, \"src\"], [\"id\", \"details_container\", 1, \"container-fluid\"], [1, \"row\"], [\"id\", \"image-part\", 1, \"col-11\", \"col-lg-6\", \"col-md-11\"], [\"id\", \"info-part\", 1, \"col-11\", \"col-lg-6\", \"col-md-11\"], [1, \"inner-card\"], [\"id\", \"description-text\"], [1, \"table\", \"table-borderless\"], [1, \"bi\", \"bi-door-open\"], [1, \"bi\", \"bi-people\"], [1, \"bi\", \"bi-person\"], [1, \"inner\"], [1, \"card\"], [\"type\", \"date\", \"id\", \"startDate\", \"name\", \"trip_start\", \"max\", \"2025-12-31\", 3, \"value\", \"min\", \"change\"], [\"startDateInput\", \"\"], [\"type\", \"date\", \"id\", \"endDate\", \"name\", \"trip_end\", \"max\", \"2025-12-31\", 3, \"min\", \"value\", \"change\"], [\"endDateInput\", \"\"], [\"id\", \"validate\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"info\", 4, \"ngIf\"], [3, \"src\", \"alt\"], [\"id\", \"modalSrc\", 3, \"src\", \"alt\", \"click\"], [\"id\", \"carouselDetails\", \"data-ride\", \"carousel\", 1, \"carousel\", \"slide\"], [\"id\", \"carindicator\", \"role\", \"button\", \"data-slide\", \"prev\", 1, \"carousel-control-prev\", 3, \"click\"], [\"id\", \"carindicator\", \"role\", \"button\", \"data-slide\", \"next\", 1, \"carousel-control-next\", 3, \"click\"], [\"id\", \"modalSrc\", \"alt\", \"Slide\", 1, \"d-block\", \"w-100\", 3, \"src\", \"click\"], [1, \"text-danger\"], [\"validationText\", \"\"], [1, \"info\"], [1, \"bi\", \"bi-cloud-sun\"], [\"id\", \"nightsNr\"], [\"nightsNr\", \"\"], [1, \"bi\", \"bi-cash-coin\"], [\"id\", \"totalPrice\"], [\"id\", \"makeOrder\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function DetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"head\");\n      i0.ɵɵelement(1, \"link\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"app-modal\", 1);\n      i0.ɵɵlistener(\"closeModal\", function DetailsComponent_Template_app_modal_closeModal_2_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵtemplate(3, DetailsComponent_ng_container_3_Template, 3, 2, \"ng-container\", 2);\n      i0.ɵɵtemplate(4, DetailsComponent_ng_container_4_Template, 9, 1, \"ng-container\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, DetailsComponent_div_5_Template, 59, 22, \"div\", 3);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"showModal\", ctx.showModal);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.numberOfFiles === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.numberOfFiles > 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isObjectEmpty(ctx.newHouse));\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ModalComponent, i5.ConvertCurrency],\n  styles: [\"h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%] {\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n#details_container[_ngcontent-%COMP%] {\\r\\n  padding-right: 5vw;\\r\\n  padding-top: 3%;\\r\\n  padding-left: 2vw;\\r\\n  padding-right: 5vw;\\r\\n  padding-bottom: 5vh;\\r\\n  margin-left: 0px;\\r\\n  width: 100%;\\r\\n  background-color: #FFFFF0;\\r\\n  font-family: 'Montserrat', sans-serif;\\r\\n}\\r\\n\\r\\n#image-part[_ngcontent-%COMP%] {\\r\\n  height: 100%;\\r\\n  min-height: 100%;\\r\\n  max-height: 100%;\\r\\n  width: 50%;\\r\\n  min-width: 50%;\\r\\n  max-width: 50%;\\r\\n}\\r\\n\\r\\n#carindicator[_ngcontent-%COMP%] {\\r\\n  background-color: black;\\r\\n  opacity: 0.5;\\r\\n  border-radius: 50%;\\r\\n  height: 7%;\\r\\n  width: 5%;\\r\\n  margin: 0;\\r\\n  position: absolute;\\r\\n  margin: 1% 3%;\\r\\n}\\r\\n\\r\\n  #carindicator[_ngcontent-%COMP%]:hover {\\r\\n    opacity: 0.8;\\r\\n  }\\r\\n\\r\\n\\r\\n#indicator[_ngcontent-%COMP%] {\\r\\n  background-color: black;\\r\\n  opacity: 0.5;\\r\\n  border-radius: 50%;\\r\\n  height: 7%;\\r\\n  width: 5%;\\r\\n  margin: 0;\\r\\n  position: absolute;\\r\\n  top: 50%;\\r\\n  transform: translateY(-50%);\\r\\n}\\r\\n\\r\\n  #indicator[_ngcontent-%COMP%]:hover {\\r\\n    opacity: 0.8;\\r\\n  }\\r\\n\\r\\n#modalSrc[_ngcontent-%COMP%]:hover {\\r\\n  opacity: 0.9;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n#info-part[_ngcontent-%COMP%] {\\r\\n  height: 100%;\\r\\n  min-height: 100%;\\r\\n  max-height: 100%;\\r\\n  width: 50%;\\r\\n  min-width: 50%;\\r\\n  max-width: 50%;\\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%] {\\r\\n  padding: 3%;\\r\\n  height: 100%;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\nth[_ngcontent-%COMP%] {\\r\\n  padding-left: 0px;\\r\\n}\\r\\n\\r\\n#description-text[_ngcontent-%COMP%] {\\r\\n  margin-top: 2vh;\\r\\n  margin-bottom: 4vh;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]    > [_ngcontent-%COMP%]:not(caption)    > *[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\\r\\n  padding-left: 0;\\r\\n  background-color: var(--bs-table-bg);\\r\\n  box-shadow: inset 0 0 0 9999px var(--bs-table-accent-bg);\\r\\n  padding-right: 0.5rem;\\r\\n  padding-top: 1rem;\\r\\n  padding-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.info-part[_ngcontent-%COMP%] {\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n#makeOrder[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  padding-top: 1.5vh;\\r\\n  padding-bottom: 1.5vh;\\r\\n  background-color: #A9B388;\\r\\n  border: none;\\r\\n}\\r\\n\\r\\n  #makeOrder[_ngcontent-%COMP%]:hover {\\r\\n    opacity: 0.8;\\r\\n  }\\r\\n\\r\\n#bottom-card[_ngcontent-%COMP%] {\\r\\n  margin-top: 5vh;\\r\\n}\\r\\n\\r\\n\\r\\n.inner[_ngcontent-%COMP%] {\\r\\n  margin-top: 2vh;\\r\\n}\\r\\n\\r\\ninner-card[_ngcontent-%COMP%] {\\r\\n  margin-top: 0px;\\r\\n}\\r\\n\\r\\n\\r\\nimg[_ngcontent-%COMP%] {\\r\\n  max-width: 100%;\\r\\n  margin: auto;\\r\\n}\\r\\n\\r\\n#carimg[_ngcontent-%COMP%] {\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n\\r\\n.carousel-inner[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  overflow: hidden;\\r\\n  height: 95vh;\\r\\n  top: 50%;\\r\\n  transform: translateY(-50%);\\r\\n}\\r\\n\\r\\n.carousel-item[_ngcontent-%COMP%] {\\r\\n  flex: 0 0 auto;\\r\\n  max-width: 100%;\\r\\n  height: 100%; \\r\\n  margin: auto;\\r\\n}\\r\\n\\r\\n  .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    width: auto;\\r\\n    object-fit: cover;\\r\\n    overflow: hidden;\\r\\n  }\\r\\n\\r\\n\\r\\n@media only screen and (max-width: 992px) {\\r\\n  h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%] {\\r\\n    margin-top: 2vh;\\r\\n  }\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG91c2VzL0RldGFpbHMvZGV0YWlscy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLHlCQUF5QjtFQUN6QixxQ0FBcUM7QUFDdkM7O0FBRUE7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixVQUFVO0VBQ1YsY0FBYztFQUNkLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsU0FBUztFQUNULFNBQVM7RUFDVCxrQkFBa0I7RUFDbEIsYUFBYTtBQUNmOztFQUVFO0lBQ0UsWUFBWTtFQUNkOzs7QUFHRjtFQUNFLHVCQUF1QjtFQUN2QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixTQUFTO0VBQ1QsU0FBUztFQUNULGtCQUFrQjtFQUNsQixRQUFRO0VBRVIsMkJBQTJCO0FBQzdCOztFQUVFO0lBQ0UsWUFBWTtFQUNkOztBQUVGO0VBQ0UsWUFBWTtFQUNaLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixVQUFVO0VBQ1YsY0FBYztFQUNkLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixrQkFBa0I7QUFDcEI7QUFDQSwyREFBMkQ7QUFDM0Q7RUFDRSxlQUFlO0VBQ2Ysb0NBQW9DO0VBQ3BDLHdEQUF3RDtFQUN4RCxxQkFBcUI7RUFDckIsaUJBQWlCO0VBQ2pCLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQix5QkFBeUI7RUFDekIsWUFBWTtBQUNkOztFQUVFO0lBQ0UsWUFBWTtFQUNkOztBQUVGO0VBQ0UsZUFBZTtBQUNqQjs7O0FBR0E7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7O0FBR0E7RUFDRSxlQUFlO0VBQ2YsWUFBWTtBQUNkOztBQUVBO0VBQ0UsWUFBWTtBQUNkOzs7QUFHQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixRQUFRO0VBRVIsMkJBQTJCO0FBQzdCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGVBQWU7RUFDZixZQUFZLEVBQUUseUNBQXlDO0VBQ3ZELFlBQVk7QUFDZDs7RUFFRTtJQUNFLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsZ0JBQWdCO0VBQ2xCOztBQUVGLHFEQUFxRDtBQUNyRDtFQUNFO0lBQ0UsZUFBZTtFQUNqQjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaDEsIGgzIHtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuI2RldGFpbHNfY29udGFpbmVyIHtcclxuICBwYWRkaW5nLXJpZ2h0OiA1dnc7XHJcbiAgcGFkZGluZy10b3A6IDMlO1xyXG4gIHBhZGRpbmctbGVmdDogMnZ3O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDV2dztcclxuICBwYWRkaW5nLWJvdHRvbTogNXZoO1xyXG4gIG1hcmdpbi1sZWZ0OiAwcHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGMDtcclxuICBmb250LWZhbWlseTogJ01vbnRzZXJyYXQnLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4jaW1hZ2UtcGFydCB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XHJcbiAgbWF4LWhlaWdodDogMTAwJTtcclxuICB3aWR0aDogNTAlO1xyXG4gIG1pbi13aWR0aDogNTAlO1xyXG4gIG1heC13aWR0aDogNTAlO1xyXG59XHJcblxyXG4jY2FyaW5kaWNhdG9yIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICBvcGFjaXR5OiAwLjU7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGhlaWdodDogNyU7XHJcbiAgd2lkdGg6IDUlO1xyXG4gIG1hcmdpbjogMDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbWFyZ2luOiAxJSAzJTtcclxufVxyXG5cclxuICAjY2FyaW5kaWNhdG9yOmhvdmVyIHtcclxuICAgIG9wYWNpdHk6IDAuODtcclxuICB9XHJcblxyXG5cclxuI2luZGljYXRvciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgb3BhY2l0eTogMC41O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBoZWlnaHQ6IDclO1xyXG4gIHdpZHRoOiA1JTtcclxuICBtYXJnaW46IDA7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNTAlO1xyXG4gIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG59XHJcblxyXG4gICNpbmRpY2F0b3I6aG92ZXIge1xyXG4gICAgb3BhY2l0eTogMC44O1xyXG4gIH1cclxuXHJcbiNtb2RhbFNyYzpob3ZlciB7XHJcbiAgb3BhY2l0eTogMC45O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuI2luZm8tcGFydCB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XHJcbiAgbWF4LWhlaWdodDogMTAwJTtcclxuICB3aWR0aDogNTAlO1xyXG4gIG1pbi13aWR0aDogNTAlO1xyXG4gIG1heC13aWR0aDogNTAlO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgcGFkZGluZzogMyU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG50aCB7XHJcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XHJcbn1cclxuXHJcbiNkZXNjcmlwdGlvbi10ZXh0IHtcclxuICBtYXJnaW4tdG9wOiAydmg7XHJcbiAgbWFyZ2luLWJvdHRvbTogNHZoO1xyXG59XHJcbi8qIFJlbW92ZSBwYWRkaW5nLWxlZnQgb24gdGhlIHRhYmxlcywgZm9yIGJldHRlciBhbGlnbm1lbnQqL1xyXG4udGFibGUgPiA6bm90KGNhcHRpb24pID4gKiA+ICoge1xyXG4gIHBhZGRpbmctbGVmdDogMDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy10YWJsZS1iZyk7XHJcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgOTk5OXB4IHZhcigtLWJzLXRhYmxlLWFjY2VudC1iZyk7XHJcbiAgcGFkZGluZy1yaWdodDogMC41cmVtO1xyXG4gIHBhZGRpbmctdG9wOiAxcmVtO1xyXG4gIHBhZGRpbmctYm90dG9tOiAxcmVtO1xyXG59XHJcblxyXG4uaW5mby1wYXJ0IHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbiNtYWtlT3JkZXIge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBwYWRkaW5nLXRvcDogMS41dmg7XHJcbiAgcGFkZGluZy1ib3R0b206IDEuNXZoO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNBOUIzODg7XHJcbiAgYm9yZGVyOiBub25lO1xyXG59XHJcblxyXG4gICNtYWtlT3JkZXI6aG92ZXIge1xyXG4gICAgb3BhY2l0eTogMC44O1xyXG4gIH1cclxuXHJcbiNib3R0b20tY2FyZCB7XHJcbiAgbWFyZ2luLXRvcDogNXZoO1xyXG59XHJcblxyXG5cclxuLmlubmVyIHtcclxuICBtYXJnaW4tdG9wOiAydmg7XHJcbn1cclxuXHJcbmlubmVyLWNhcmQge1xyXG4gIG1hcmdpbi10b3A6IDBweDtcclxufVxyXG5cclxuXHJcbmltZyB7XHJcbiAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbjogYXV0bztcclxufVxyXG5cclxuI2NhcmltZyB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG5cclxuLmNhcm91c2VsLWlubmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBoZWlnaHQ6IDk1dmg7XHJcbiAgdG9wOiA1MCU7XHJcbiAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbn1cclxuXHJcbi5jYXJvdXNlbC1pdGVtIHtcclxuICBmbGV4OiAwIDAgYXV0bztcclxuICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlOyAvKiBIw4PCuHlkZW4gc2thbCB2w4PCpnJlIDEwMCUgYXYgY29udGFpbmVyZW4gKi9cclxuICBtYXJnaW46IGF1dG87XHJcbn1cclxuXHJcbiAgLmNhcm91c2VsLWl0ZW0gaW1nIHtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIH1cclxuXHJcbi8qIE1lZGlhIHF1ZXJ5IGZvciB3aGVuIHNjcmVlbiBpcyBzbWFsbGVyIHRoYW4gOTkycHgqL1xyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk5MnB4KSB7XHJcbiAgaDEsIGgzIHtcclxuICAgIG1hcmdpbi10b3A6IDJ2aDtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","DetailsComponent","constructor","_router","_houseService","_route","Date","toISOString","split","startDateMin","baseImgUrl","ngOnInit","window","scrollTo","params","subscribe","houseId","getHouse","endDateMin","setDate","getDate","endDateMinString","showId","sessionStorage","getItem","userIdValue","userId","error","console","createOrder","navigate","newOrder","OrderDate","UserId","HouseId","House","newHouse","startDateValue","startDateInput","nativeElement","value","endDateValue","endDateInput","StartDate","EndDate","TotalPrice","totalPrice","response","success","log","message","getHouseById","house","user","User","Price","address","Address","getImages","result","numberOfFiles","imgCount","images","prevSlide","currentSlideIndex","length","nextSlide","isObjectEmpty","obj","Object","keys","updateDays","newstartDate","newendDate","differenceInMs","getTime","differenceInDays","Math","ceil","invalidDates","numberOfNights","openModal","showModal","closeModal","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\danie\\WebApplikasjoner\\WebApplicationAngular\\ClientApp\\src\\app\\houses\\Details\\details.component.html","C:\\Users\\danie\\WebApplikasjoner\\WebApplicationAngular\\ClientApp\\src\\app\\houses\\Details\\details.component.ts"],"sourcesContent":["<head>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css\" />\r\n</head>\r\n\r\n<app-modal [showModal]=\"showModal\" (closeModal)=\"closeModal()\">\r\n    <ng-container *ngIf=\"numberOfFiles === 1\">\r\n        <div class=\"text-center\">\r\n            <img [src]=\"images[0]\" alt=\"{{ newHouse.ImageUrl }}\" class=\"img-fluid\">\r\n        </div>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"numberOfFiles > 1\">\r\n        <div class=\"modal-content\">\r\n            <div id=\"carouselModal\" class=\"carousel slide\" data-ride=\"carousel\">\r\n                <div class=\"carousel-inner\">\r\n                    <div *ngFor=\"let image of images; let i = index\" class=\"carousel-item\" [class.active]=\"i === currentSlideIndex\">\r\n                        <img id=\"carimg\" [src]=\"image\" class=\"d-block img-fluid\" alt=\"Slide\">\r\n                    </div>\r\n                </div>\r\n                <a id=\"indicator\" class=\"carousel-control-prev\" (click)=\"prevSlide()\" role=\"button\" data-slide=\"prev\">\r\n                    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                </a>\r\n                <a id=\"indicator\" class=\"carousel-control-next\" (click)=\"nextSlide()\" role=\"button\" data-slide=\"next\">\r\n                    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</app-modal>\r\n\r\n<div class=\"container-fluid\" id=\"details_container\" *ngIf=\"!isObjectEmpty(newHouse)\">\r\n    <div class=\"row\">\r\n        <div id=\"image-part\" class=\"col-11 col-lg-6 col-md-11\">\r\n            <!-- If no images of house: display noimg.jpg -->\r\n            <ng-container *ngIf=\"numberOfFiles === 0\">\r\n                <img [src]=\"(baseImgUrl + 'noimg.jpg')\" alt=\"{{ newHouse.ImageUrl }}\">\r\n            </ng-container>\r\n            <!-- If ony one image of house: display that image -->\r\n            <ng-container *ngIf=\"numberOfFiles === 1\">\r\n                <img id=\"modalSrc\" [src]=\"(images[0])\" alt=\"{{ newHouse.ImageUrl }}\" (click)=\"openModal()\">\r\n            </ng-container>\r\n            <!-- If more than one image of house: carousel of images -->\r\n            <ng-container *ngIf=\"numberOfFiles > 1\">\r\n                <div class=\"row\">\r\n                    <div id=\"carouselDetails\" class=\"carousel slide\" data-ride=\"carousel\">\r\n                        <div class=\"carousel-inner\">\r\n                            <div *ngFor=\"let image of images; let i = index\" class=\"carousel-item\" [class.active]=\"i === currentSlideIndex\">\r\n                                <img id=\"modalSrc\" [src]=\"image\" class=\"d-block w-100\" alt=\"Slide\" (click)=\"openModal()\">\r\n                            </div>\r\n                        </div>\r\n                        <a id=\"carindicator\" class=\"carousel-control-prev\" (click)=\"prevSlide()\" role=\"button\" data-slide=\"prev\">\r\n                            <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                        </a>\r\n                        <a id=\"carindicator\" class=\"carousel-control-next\" (click)=\"nextSlide()\" role=\"button\" data-slide=\"next\">\r\n                            <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n        </div>\r\n        <div id=\"info-part\" class=\"col-11 col-lg-6 col-md-11\">\r\n            <div class=\"inner-card\">\r\n                <h1>{{ newHouse.Address }}</h1>\r\n                <p id=\"description-text\">{{ newHouse.Description }}</p>\r\n                <h3>{{ newHouse.Price | convertCurrency : 'kr.' }}</h3>\r\n                <table class=\"table table-borderless\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <th><i class=\"bi bi-door-open\"></i>   Bedrooms:</th>\r\n                            <td>{{ newHouse.Bedrooms }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th><i class=\"bi bi-people\"></i>   Guests:</th>\r\n                            <td>{{ newHouse.Guests }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th><i class=\"bi bi-person\"></i>   Owner:</th>\r\n                            <td>{{ newHouse.User.FirstName }} {{ newHouse.User.LastName }}, {{ newHouse.User.Email }} </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div class=\"inner\">\r\n                <div class=\"card\">\r\n                    <h3>Choose dates and order here!</h3>\r\n                    <table class=\"table table-borderless\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <th>FROM:</th>\r\n                                <th>TO:</th>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <!-- Input field for start date -->\r\n                                    <input type=\"date\" id=\"startDate\" name=\"trip_start\"\r\n                                           [value]=\"startDateMin\" [min]=\"startDateMin\" max=\"2025-12-31\"\r\n                                           (change)=\"updateDays()\" #startDateInput />\r\n                                </td>\r\n                                <td>\r\n                                    <!-- Input field for end date -->\r\n                                    <input type=\"date\" id=\"endDate\" name=\"trip_end\"\r\n                                           [min]=\"endDateMinString\" [value]=\"endDateMinString\" max=\"2025-12-31\"\r\n                                           (change)=\"updateDays()\" #endDateInput />\r\n                                </td>\r\n                            </tr>\r\n                            <tr id=\"validate\">\r\n                                <td>\r\n                                    <span class=\"text-danger\" #validationText *ngIf=\"invalidDates\">\r\n                                        The start date must be earlier than end date\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class=\"info\" *ngIf=\"!invalidDates\">\r\n                                <th><p><i class=\"bi bi-cloud-sun\"></i>   Number of nights:</p></th>\r\n                                <td><p id=\"nightsNr\" #nightsNr>{{ numberOfNights }}</p></td>\r\n                            </tr>\r\n                            <tr class=\"info\" *ngIf=\"!invalidDates\">\r\n                                <th><p><i class=\"bi bi-cash-coin\"></i>   TOTAL PRICE: </p></th>\r\n                                <td><p id=\"totalPrice\">{{ totalPrice | convertCurrency : 'kr.'}}</p></td>\r\n                            </tr>\r\n                            <tr class=\"info\" *ngIf=\"!invalidDates\">\r\n                                <td><button id=\"makeOrder\" class=\"btn btn-primary\" (click)=\"createOrder()\">Order</button></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { IHouse } from '../house';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HouseService } from '../houses.service';\r\nimport { IUser } from '../../users/user';\r\nimport { IOrder } from '../../Order/order';\r\n\r\n@Component({\r\n  selector: 'app-details', // Specify the selector for the component\r\n  templateUrl: './details.component.html', // Path to the HTML template\r\n  styleUrls: ['./details.component.css'] // Array of CSS stylesheets\r\n})\r\n\r\nexport class DetailsComponent implements OnInit {\r\n  @ViewChild('startDateInput') startDateInput!: ElementRef;\r\n  @ViewChild('endDateInput') endDateInput!: ElementRef;\r\n\r\n  // Variables to control the specific house to look at \r\n  startDateMin: string = new Date().toISOString().split('T')[0]; // Current date in YYYY-MM-DD format\r\n  endDateMin: Date = new Date(this.startDateMin);\r\n  endDateMinString: string = '';\r\n  newHouse: IHouse = {} as IHouse; // Adjust the type according to your house object structure\r\n  newUser: IUser = {} as IUser;\r\n  houseId: number = -1;\r\n  userId: number = -1;\r\n  numberOfNights = 1;\r\n  baseImgUrl: string;\r\n  numberOfFiles: number = 0;\r\n  images: string[] = [];\r\n  totalPrice = 0;\r\n  invalidDates: boolean = false;\r\n  currentSlideIndex: number = 0;\r\n\r\n  // Variable to create order\r\n  newOrder: IOrder = {} as IOrder;\r\n  newOrderUser: IUser = {} as IUser;\r\n\r\n  constructor(private _router: Router,\r\n    private _houseService: HouseService,\r\n    private _route: ActivatedRoute) {\r\n    this.baseImgUrl = \"/assets/images/\";\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    window.scrollTo(0, 0);\r\n    this._route.params.subscribe(params => {\r\n      this.houseId = + params['id'];\r\n      this.getHouse(this.houseId);\r\n      this.endDateMin.setDate(this.endDateMin.getDate() + 1); // Add one day\r\n      this.endDateMinString = new Date(this.endDateMin).toISOString().split('T')[0]; // Current date in YYYY-MM-DD format\r\n    });\r\n\r\n    this._houseService.showId(sessionStorage.getItem(\"email\")!).subscribe(\r\n      (userIdValue: number) => {\r\n        // Update the userId in the form\r\n        this.userId = userIdValue;\r\n      },\r\n      (error) => {\r\n        console.error(\"Error fetching userId:\", error);\r\n      }\r\n    );\r\n  }\r\n\r\n  createOrder(): void {\r\n    if (sessionStorage.getItem(\"email\") === null) {\r\n      this._router.navigate(['/login'])\r\n    }\r\n    // Creating order object to save in DB\r\n    this.newOrder.OrderDate = new Date().toISOString().split('T')[0]; // Todays date in ISO format\r\n    // Temp userId\r\n    this.newOrder.UserId = 1;\r\n    this.newOrder.HouseId = this.houseId;\r\n    this.newOrder.House = this.newHouse;\r\n    this.newOrder.UserId = this.userId;\r\n\r\n    // Get values from input fields (startDate and endDate)\r\n    const startDateValue = (this.startDateInput.nativeElement as HTMLInputElement).value; // Start date input\r\n    const endDateValue = (this.endDateInput.nativeElement as HTMLInputElement).value;  // End date input\r\n\r\n    this.newOrder.StartDate = startDateValue;\r\n    this.newOrder.EndDate = endDateValue;\r\n    this.newOrder.TotalPrice = this.totalPrice;\r\n\r\n    // Creating order \r\n    this._houseService.createOrder(this.newOrder)\r\n      .subscribe(response => {\r\n        if (response.success) {\r\n          console.log(response.message);\r\n          this._router.navigate(['/Table'])\r\n        }\r\n        else {\r\n          console.log(\"Order creation failed\");\r\n        }\r\n      });\r\n  }\r\n\r\n  getHouse(houseId: number) {\r\n    this._houseService.getHouseById(houseId)\r\n      .subscribe(\r\n        (house: any) => {\r\n          console.log('retreived house: ', house);\r\n          console.log('retreived user: ', house.user);\r\n          this.newHouse = house;\r\n          this.newHouse.User = house.user;\r\n          this.totalPrice = this.newHouse.Price;\r\n          // this.updateDays();\r\n          const address = this.newHouse.Address;\r\n          this.getImages(address);\r\n          console.log(\"New House: \", this.newHouse);\r\n        },\r\n        (error: any) => {\r\n          console.error('Error loading house for edit: ', error);\r\n        }\r\n      );\r\n  }\r\n\r\n  getImages(address: string) {\r\n    console.log(\"Address to el manzion: \", address);\r\n    this._houseService.getImages(address).subscribe((result: any) => {\r\n      console.log(\"Result: \", result);\r\n      this.numberOfFiles = result && result.imgCount ? result.imgCount : 0;\r\n      this.images = result && result.images ? result.images : [];\r\n      console.log(\"Number of images: \", this.numberOfFiles);\r\n      console.log(\"Images: \", this.images);\r\n    },\r\n      error => {\r\n        console.error(\"Error fetching number of files:\", error);\r\n      });\r\n  }\r\n\r\n  prevSlide() {\r\n    this.currentSlideIndex = (this.currentSlideIndex - 1 + this.images.length) % this.images.length;\r\n  }\r\n\r\n  nextSlide() {\r\n    this.currentSlideIndex = (this.currentSlideIndex + 1) % this.images.length;\r\n  }\r\n\r\n  isObjectEmpty(obj: any): boolean {\r\n    return Object.keys(obj).length === 0;\r\n  }\r\n\r\n  // Function to handle date changes in the order area\r\n  updateDays(): void {\r\n    const startDateValue = (this.startDateInput.nativeElement as HTMLInputElement).value;\r\n    const endDateValue = (this.endDateInput.nativeElement as HTMLInputElement).value;\r\n\r\n    // Turn it into date objects so we can calculate the difference in days\r\n    const newstartDate = new Date(startDateValue);\r\n    const newendDate = new Date(endDateValue);\r\n\r\n    // Calculate the difference in milliseconds\r\n    const differenceInMs = newendDate.getTime() - newstartDate.getTime();\r\n\r\n    // Convert milliseconds to days\r\n    const differenceInDays = Math.ceil(differenceInMs / (1000 * 60 * 60 * 24));\r\n\r\n\r\n    // Check if the date difference is negative, if it is, type out error message\r\n    if (differenceInDays <= 0) {\r\n      this.invalidDates = true;\r\n      this.totalPrice = 0;\r\n      this.numberOfNights = 0;\r\n    } else {\r\n      // Change the values on the screen if values are valid\r\n      this.invalidDates = false;\r\n      this.totalPrice = differenceInDays * this.newHouse.Price;\r\n      console.log(\"Updated total price\", this.totalPrice);\r\n      this.numberOfNights = differenceInDays;\r\n    }\r\n\r\n    console.log(\"Date update\");\r\n    console.log(\"Start date\", startDateValue);\r\n    console.log(\"End date\", endDateValue);\r\n    console.log('Difference in days:', differenceInDays);\r\n  }\r\n\r\n  showModal: boolean = false;\r\n\r\n  openModal() {\r\n    this.showModal = true;\r\n  }\r\n\r\n  closeModal() {\r\n    this.showModal = false;\r\n  }\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}