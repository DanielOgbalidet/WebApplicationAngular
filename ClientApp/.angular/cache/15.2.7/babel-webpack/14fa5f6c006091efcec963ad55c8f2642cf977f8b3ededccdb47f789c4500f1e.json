{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./orders.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../shared/convertPipe\";\nconst _c0 = function (a1) {\n  return [\"/details\", a1];\n};\nfunction OrderTableComponent_tr_23_a_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, order_r1.House.HouseId));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", order_r1.House.Address, \" \");\n  }\n}\nfunction OrderTableComponent_tr_23_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"N/A\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function (a1) {\n  return [\"/orderform\", a1];\n};\nfunction OrderTableComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 7)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtemplate(8, OrderTableComponent_tr_23_a_8_Template, 2, 4, \"a\", 8);\n    i0.ɵɵtemplate(9, OrderTableComponent_tr_23_span_9_Template, 2, 0, \"span\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"convertCurrency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"a\", 10);\n    i0.ɵɵelement(15, \"i\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function OrderTableComponent_tr_23_Template_a_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const order_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteOrder(order_r1));\n    });\n    i0.ɵɵelement(17, \"i\", 13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r1.OrderDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r1.StartDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r1.EndDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", order_r1.House);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !order_r1.House);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(12, 7, order_r1.TotalPrice, \"kr.\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c1, order_r1.OrderId));\n  }\n}\nexport class OrderTableComponent {\n  constructor(_router, _orderService, _route) {\n    this._router = _router;\n    this._orderService = _orderService;\n    this._route = _route;\n    this.myOrders = [];\n    this.newOrder = {};\n    this.newUser = {};\n  }\n  ngOnInit() {\n    this.getMyOrders();\n  }\n  getMyOrders() {\n    const email = sessionStorage.getItem(\"email\");\n    this._orderService.getOrders(email).subscribe(orders => {\n      console.log('Orders retrieved successfully:', orders);\n      this.myOrders = orders;\n    }, error => {\n      console.error('Error loading orders: ', error);\n    });\n  }\n  deleteOrder(order) {\n    const confirmDelete = confirm(`Are you sure you want to delete order for \"${order.House.Address}\"`);\n    if (confirmDelete) {\n      this._orderService.deleteOrder(order.OrderId).subscribe(response => {\n        if (response.success) {\n          console.log(\"Order deleted\", response.message);\n          window.location.reload();\n        }\n      }, error => {\n        console.error('Error deleting order:', error);\n      });\n    }\n  }\n}\nOrderTableComponent.ɵfac = function OrderTableComponent_Factory(t) {\n  return new (t || OrderTableComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nOrderTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrderTableComponent,\n  selectors: [[\"app-order-table\"]],\n  decls: 24,\n  vars: 1,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css\"], [\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"integrity\", \"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\", \"crossorigin\", \"anonymous\"], [1, \"container-fluid\"], [1, \"table-respnsive\", \"card\"], [1, \"table\", \"table-hover\", 2, \"border\", \"1px solid #ccc\", \"margin\", \"0 auto\"], [1, \"table-active\", \"table-success\"], [\"style\", \"min-width: 80vw\", 4, \"ngFor\", \"ngForOf\"], [2, \"min-width\", \"80vw\"], [\"id\", \"house-link\", 3, \"routerLink\", 4, \"ngIf\"], [4, \"ngIf\"], [\"id\", \"update\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"btn\", 2, \"margin-right\", \"10px\", 3, \"routerLink\"], [1, \"bi\", \"bi-pencil-fill\"], [\"id\", \"delete\", 1, \"btn\", \"btn-danger\", \"btn-sm\", \"btn\", 3, \"click\"], [1, \"bi\", \"bi-trash-fill\"], [\"id\", \"house-link\", 3, \"routerLink\"]],\n  template: function OrderTableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"head\");\n      i0.ɵɵelement(1, \"link\", 0)(2, \"link\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"h1\");\n      i0.ɵɵtext(5, \"List of Orders\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 3)(7, \"table\", 4)(8, \"thead\")(9, \"tr\", 5)(10, \"th\");\n      i0.ɵɵtext(11, \"Order Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Start Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"End Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\");\n      i0.ɵɵtext(21, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"tbody\");\n      i0.ɵɵtemplate(23, OrderTableComponent_tr_23_Template, 18, 12, \"tr\", 6);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngForOf\", ctx.myOrders);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i1.RouterLink, i4.ConvertCurrency],\n  styles: [\".container-fluid[_ngcontent-%COMP%] {\\r\\n  margin-left: 0vw;\\r\\n  padding-right: 2vw;\\r\\n  padding-top: 3vh;\\r\\n  padding-left: 2vw;\\r\\n  padding-bottom: 5vh;\\r\\n  margin-right: 2vw;\\r\\n  background-color: #FFFFF0;\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  font-family: 'Montserrat', sans-serif;\\r\\n}\\r\\n\\r\\n#house-link[_ngcontent-%COMP%] {\\r\\n  color: black;\\r\\n}\\r\\n\\r\\nh1[_ngcontent-%COMP%] {\\r\\n  padding-bottom: 2vh;\\r\\n}\\r\\n\\r\\n#listings[_ngcontent-%COMP%]::after {\\r\\n  content: '';\\r\\n  height: 2px;\\r\\n  width: 100%;\\r\\n  background: black;\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  bottom: 0;\\r\\n  opacity: 1;\\r\\n  transition: all 0.2s;\\r\\n  pointer-events: none;\\r\\n}\\r\\n\\r\\n.table-container[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  overflow: auto;\\r\\n  max-height: 75vh;\\r\\n}\\r\\n\\r\\n\\r\\n@media screen and (max-width: 767px) {\\r\\n\\r\\n  #delete[_ngcontent-%COMP%] {\\r\\n    width: 9.4vh;\\r\\n  }\\r\\n\\r\\n  #update[_ngcontent-%COMP%] {\\r\\n    width: 9.4vh;\\r\\n  }\\r\\n\\r\\n\\r\\n  h1[_ngcontent-%COMP%] {\\r\\n    padding-bottom: 1vh;\\r\\n  }\\r\\n\\r\\n  #listings[_ngcontent-%COMP%]::after {\\r\\n    content: '';\\r\\n    height: 2px;\\r\\n    width: 100%;\\r\\n    background: black;\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    bottom: 0;\\r\\n    opacity: 1;\\r\\n    transition: all 0.2s;\\r\\n    pointer-events: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n\\r\\n@media screen and (min-width: 768px) and (max-width: 1024px) {\\r\\n\\r\\n\\r\\n  #delete[_ngcontent-%COMP%] {\\r\\n    width: 9.4vh;\\r\\n  }\\r\\n\\r\\n\\r\\n  #update[_ngcontent-%COMP%] {\\r\\n    width: 9.4vh;\\r\\n  }\\r\\n\\r\\n  .table-container[_ngcontent-%COMP%] {\\r\\n    margin-left: 2vw;\\r\\n    margin-right: 2vw;\\r\\n    padding-right: 5vw;\\r\\n    padding-top: 3vh;\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n    padding-bottom: 5vh;\\r\\n  }\\r\\n\\r\\n  h1[_ngcontent-%COMP%] {\\r\\n    padding-bottom: 2vh;\\r\\n  }\\r\\n\\r\\n  #listings[_ngcontent-%COMP%]::after {\\r\\n    content: '';\\r\\n    height: 2px;\\r\\n    width: 100%;\\r\\n    background: black;\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    bottom: 0;\\r\\n    opacity: 1;\\r\\n    transition: all 0.2s;\\r\\n    pointer-events: none;\\r\\n  }\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvT3JkZXIvVGFibGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osV0FBVztFQUNYLHFDQUFxQztBQUN2Qzs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxXQUFXO0VBQ1gsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsT0FBTztFQUNQLFNBQVM7RUFDVCxVQUFVO0VBQ1Ysb0JBQW9CO0VBQ3BCLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxjQUFjO0VBQ2QsZ0JBQWdCO0FBQ2xCOztBQUVBLDJCQUEyQjtBQUMzQjs7RUFFRTtJQUNFLFlBQVk7RUFDZDs7RUFFQTtJQUNFLFlBQVk7RUFDZDs7O0VBR0E7SUFDRSxtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxXQUFXO0lBQ1gsV0FBVztJQUNYLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLE9BQU87SUFDUCxTQUFTO0lBQ1QsVUFBVTtJQUNWLG9CQUFvQjtJQUNwQixvQkFBb0I7RUFDdEI7QUFDRjs7QUFFQSwwQkFBMEI7QUFDMUI7OztFQUdFO0lBQ0UsWUFBWTtFQUNkOzs7RUFHQTtJQUNFLFlBQVk7RUFDZDs7RUFFQTtJQUNFLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxXQUFXO0lBQ1gsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsT0FBTztJQUNQLFNBQVM7SUFDVCxVQUFVO0lBQ1Ysb0JBQW9CO0lBQ3BCLG9CQUFvQjtFQUN0QjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lci1mbHVpZCB7XHJcbiAgbWFyZ2luLWxlZnQ6IDB2dztcclxuICBwYWRkaW5nLXJpZ2h0OiAydnc7XHJcbiAgcGFkZGluZy10b3A6IDN2aDtcclxuICBwYWRkaW5nLWxlZnQ6IDJ2dztcclxuICBwYWRkaW5nLWJvdHRvbTogNXZoO1xyXG4gIG1hcmdpbi1yaWdodDogMnZ3O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRjA7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGZvbnQtZmFtaWx5OiAnTW9udHNlcnJhdCcsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbiNob3VzZS1saW5rIHtcclxuICBjb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbmgxIHtcclxuICBwYWRkaW5nLWJvdHRvbTogMnZoO1xyXG59XHJcblxyXG4jbGlzdGluZ3M6OmFmdGVyIHtcclxuICBjb250ZW50OiAnJztcclxuICBoZWlnaHQ6IDJweDtcclxuICB3aWR0aDogMTAwJTtcclxuICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMDtcclxuICBib3R0b206IDA7XHJcbiAgb3BhY2l0eTogMTtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxufVxyXG5cclxuLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgbWF4LWhlaWdodDogNzV2aDtcclxufVxyXG5cclxuLyogTWVkaWEgUXVlcnkgZm9yIFBob25lcyAqL1xyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCkge1xyXG5cclxuICAjZGVsZXRlIHtcclxuICAgIHdpZHRoOiA5LjR2aDtcclxuICB9XHJcblxyXG4gICN1cGRhdGUge1xyXG4gICAgd2lkdGg6IDkuNHZoO1xyXG4gIH1cclxuXHJcblxyXG4gIGgxIHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxdmg7XHJcbiAgfVxyXG5cclxuICAjbGlzdGluZ3M6OmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgaGVpZ2h0OiAycHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQ6IGJsYWNrO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogMDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gIH1cclxufVxyXG5cclxuLyogTWVkaWEgUXVlcnkgZm9yIGlQYWRzICovXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1heC13aWR0aDogMTAyNHB4KSB7XHJcblxyXG5cclxuICAjZGVsZXRlIHtcclxuICAgIHdpZHRoOiA5LjR2aDtcclxuICB9XHJcblxyXG5cclxuICAjdXBkYXRlIHtcclxuICAgIHdpZHRoOiA5LjR2aDtcclxuICB9XHJcblxyXG4gIC50YWJsZS1jb250YWluZXIge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDJ2dztcclxuICAgIG1hcmdpbi1yaWdodDogMnZ3O1xyXG4gICAgcGFkZGluZy1yaWdodDogNXZ3O1xyXG4gICAgcGFkZGluZy10b3A6IDN2aDtcclxuICAgIHBhZGRpbmctbGVmdDogMDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDA7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogNXZoO1xyXG4gIH1cclxuXHJcbiAgaDEge1xyXG4gICAgcGFkZGluZy1ib3R0b206IDJ2aDtcclxuICB9XHJcblxyXG4gICNsaXN0aW5nczo6YWZ0ZXIge1xyXG4gICAgY29udGVudDogJyc7XHJcbiAgICBoZWlnaHQ6IDJweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZDogYmxhY2s7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgb3BhY2l0eTogMTtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","OrderTableComponent","constructor","_router","_orderService","_route","ngOnInit","getMyOrders","email","sessionStorage","getItem","getOrders","subscribe","orders","console","log","myOrders","error","deleteOrder","order","confirmDelete","confirm","House","Address","OrderId","response","success","message","window","location","reload","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\danie\\WebApplikasjoner\\WebApplicationAngular\\ClientApp\\src\\app\\Order\\Table.component.html","C:\\Users\\danie\\WebApplikasjoner\\WebApplicationAngular\\ClientApp\\src\\app\\Order\\Table.component.ts"],"sourcesContent":["<head>\r\n  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css\" />\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\" crossorigin=\"anonymous\">\r\n</head>\r\n\r\n<div class=\"container-fluid\">\r\n  <h1>List of Orders</h1>\r\n  <div class=\"table-respnsive card\">\r\n    <table class='table table-hover' style='border: 1px solid #ccc; margin: 0 auto;'>\r\n      <thead>\r\n        <tr class=\"table-active table-success\">\r\n          <th>Order Date</th>\r\n          <th>Start Date</th>\r\n          <th>End Date</th>\r\n          <th>Address</th>\r\n          <th>Price</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let order of myOrders\" style=\"min-width: 80vw\">\r\n          <td>{{ order.OrderDate }}</td>\r\n          <td>{{ order.StartDate }}</td>\r\n          <td>{{ order.EndDate }}</td>\r\n          <td>\r\n            <a *ngIf=\"order.House\" id=\"house-link\" [routerLink]=\"['/details', order.House.HouseId]\">\r\n              {{ order.House.Address }}\r\n            </a>\r\n            <span *ngIf=\"!order.House\">N/A</span>\r\n          </td>\r\n          <td>{{ order.TotalPrice | convertCurrency : 'kr.'}}</td>\r\n          <td>\r\n            <a id=\"update\" [routerLink]=\"['/orderform', order.OrderId]\" class=\"btn btn-success btn-sm btn\" style=\"margin-right: 10px\"><i class=\"bi bi-pencil-fill\"></i></a>\r\n            <a id=\"delete\" class=\"btn btn-danger btn-sm btn\" (click)=\"deleteOrder(order)\"><i class=\"bi bi-trash-fill\"></i></a>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { IOrder } from './order';\r\nimport { IUser } from '../users/user';\r\nimport { OrderService } from './orders.service';\r\n\r\n@Component({\r\n  selector: 'app-order-table',\r\n  templateUrl: './Table.component.html',\r\n  styleUrls: ['./Table.component.css'],\r\n})\r\n\r\nexport class OrderTableComponent implements OnInit {\r\n  myOrders: IOrder[] = [];\r\n  newOrder: IOrder = {} as IOrder;\r\n  newUser: IUser = {} as IUser;\r\n\r\n\r\n  constructor(private _router: Router,\r\n    private _orderService: OrderService,\r\n    private _route: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getMyOrders();\r\n  }\r\n\r\n  getMyOrders() {\r\n    const email = sessionStorage.getItem(\"email\")!;\r\n    this._orderService.getOrders(email)\r\n      .subscribe(\r\n        (orders: IOrder[]) => {\r\n          console.log('Orders retrieved successfully:', orders);\r\n          this.myOrders = orders;\r\n        },\r\n        (error: any) => {\r\n          console.error('Error loading orders: ', error);\r\n        }\r\n      );\r\n  }\r\n\r\n  deleteOrder(order: IOrder): void {\r\n    const confirmDelete = confirm(`Are you sure you want to delete order for \"${order.House.Address}\"`);\r\n    if (confirmDelete) {\r\n      this._orderService.deleteOrder(order.OrderId).subscribe(\r\n        (response) => {\r\n          if (response.success) {\r\n            console.log(\"Order deleted\", response.message);\r\n            window.location.reload();\r\n          }\r\n        },\r\n        (error) => {\r\n          console.error('Error deleting order:', error);\r\n        });\r\n    }\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}