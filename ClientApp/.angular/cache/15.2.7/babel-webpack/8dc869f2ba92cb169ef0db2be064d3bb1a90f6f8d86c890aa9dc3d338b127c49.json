{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../users.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"strong\");\n    i0.ɵɵtext(2, \"Either your email or password was incorrect. Please try again. \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 12);\n  }\n}\nconst _c0 = function () {\n  return [\"/register\"];\n};\nexport class LoginComponent {\n  constructor(_router, _userService) {\n    this._router = _router;\n    this._userService = _userService;\n    this.loginFail = false;\n    this.loaderCheck = false;\n  }\n  onSubmit() {\n    //Check if email and password exsist in our table\n    console.log(\"Log in clicked\");\n    this._userService.checkLogin(this.email, this.password).subscribe(loggedIn => {\n      if (!loggedIn) {\n        //Show error message if user can't log in\n        this.loginFail = true;\n        this.loaderCheck = false;\n      } else {\n        //If user log in, a new session is created\n        this.loaderCheck = true;\n        this.loader();\n        this.loginFail = false;\n        sessionStorage.setItem(\"email\", this.email);\n        this._router.navigate(['/nav-menu']).then(() => {\n          window.location.reload();\n        });\n      }\n    });\n  }\n  loader() {\n    this.loaderCheck = true;\n  }\n  ngOnInit() {}\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login-component\"]],\n  decls: 20,\n  vars: 6,\n  consts: [[1, \"container-fluid\"], [\"method\", \"post\", 1, \"row\", 3, \"ngSubmit\"], [1, \"col-md-6\", \"col-sm-12\"], [\"class\", \"alert alert-danger box-msg\", \"role\", \"alert\", 4, \"ngIf\"], [\"id\", \"unameLabel\", \"for\", \"uname\"], [\"type\", \"text\", \"name\", \"uname\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"pswLabel\", \"for\", \"psw\"], [\"type\", \"password\", \"name\", \"psw\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"login\", \"type\", \"submit\", 1, \"login-button\", 3, \"click\"], [\"class\", \"loader\", 4, \"ngIf\"], [3, \"routerLink\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"box-msg\"], [1, \"loader\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"h1\");\n      i0.ɵɵtext(4, \" Log in \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, LoginComponent_div_5_Template, 3, 0, \"div\", 3);\n      i0.ɵɵelementStart(6, \"label\", 4)(7, \"b\");\n      i0.ɵɵtext(8, \"Email\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"label\", 6)(11, \"b\");\n      i0.ɵɵtext(12, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_14_listener() {\n        return ctx.loader();\n      });\n      i0.ɵɵelementStart(15, \"div\");\n      i0.ɵɵtext(16, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, LoginComponent_div_17_Template, 1, 0, \"div\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 10);\n      i0.ɵɵtext(19, \"Register\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.loginFail);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.loaderCheck);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c0));\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i1.RouterLink],\n  styles: [\"h1[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 2.5vh;\\r\\n}\\r\\n\\r\\n.container-fluid[_ngcontent-%COMP%] {\\r\\n  margin-left: 0vw;\\r\\n  padding-top: 3vh;\\r\\n  padding-left: 2vw;\\r\\n  padding-right: 0px;\\r\\n  padding-bottom: 5vh;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  background-color: #FFFFF0;\\r\\n  font-family: 'Montserrat', sans-serif;\\r\\n}\\r\\n\\r\\n#unameLabel[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 1vh;\\r\\n}\\r\\n\\r\\n#pswLabel[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 1vh;\\r\\n}\\r\\n\\r\\n.row[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\n\\r\\ninput[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  margin-bottom: 2vh;\\r\\n  padding: 1.5vh 1.5vw;\\r\\n  display: inline-block;\\r\\n  border: 1px solid #ccc;\\r\\n  box-sizing: border-box;\\r\\n  border-radius: 5px;\\r\\n}\\r\\n\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  background-color: #A9B388;\\r\\n  color: white;\\r\\n  padding: 14px 20px;\\r\\n  margin: 8px 0;\\r\\n  border: none;\\r\\n  cursor: pointer;\\r\\n  width: 100%;\\r\\n  border-radius: 5px;\\r\\n}\\r\\n\\r\\n  \\r\\n  button[_ngcontent-%COMP%]:hover {\\r\\n    opacity: 0.8;\\r\\n  }\\r\\n\\r\\n#login[_ngcontent-%COMP%] {\\r\\n  margin-top: 2vh;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n\\r\\n.loader[_ngcontent-%COMP%] {\\r\\n  border: 4px solid rgba(0, 0, 0, 0.1);\\r\\n  border-top: 4px solid #5F6F52;\\r\\n  border-radius: 50%;\\r\\n  width: 20px;\\r\\n  height: 20px;\\r\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\r\\n  display: inline-block;\\r\\n  margin-left: 10px; \\r\\n}\\r\\n\\r\\n@keyframes _ngcontent-%COMP%_spin {\\r\\n  to {\\r\\n    transform: rotate(360deg);\\r\\n  }\\r\\n}\\r\\n\\r\\n\\r\\n.login-button[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center; \\r\\n  position: relative; \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlcnMvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsV0FBVztFQUNYLFlBQVk7RUFDWix5QkFBeUI7RUFDekIscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBLHNCQUFzQjtBQUN0QjtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLHFCQUFxQjtFQUNyQixzQkFBc0I7RUFDdEIsc0JBQXNCO0VBQ3RCLGtCQUFrQjtBQUNwQjs7QUFFQSwwQkFBMEI7QUFDMUI7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsWUFBWTtFQUNaLGVBQWU7RUFDZixXQUFXO0VBQ1gsa0JBQWtCO0FBQ3BCOztFQUVFLDZCQUE2QjtFQUM3QjtJQUNFLFlBQVk7RUFDZDs7QUFFRjtFQUNFLGVBQWU7RUFDZixhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCOztBQUVBLG1DQUFtQztBQUNuQztFQUNFLG9DQUFvQztFQUNwQyw2QkFBNkI7RUFDN0Isa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0NBQWtDO0VBQ2xDLHFCQUFxQjtFQUNyQixpQkFBaUIsRUFBRSwyQ0FBMkM7QUFDaEU7O0FBRUE7RUFDRTtJQUNFLHlCQUF5QjtFQUMzQjtBQUNGOztBQUVBLDJDQUEyQztBQUMzQztFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCLEVBQUUsd0JBQXdCO0VBQ2pELGtCQUFrQixFQUFFLHNDQUFzQztBQUM1RCIsInNvdXJjZXNDb250ZW50IjpbImgxIHtcclxuICBtYXJnaW4tYm90dG9tOiAyLjV2aDtcclxufVxyXG5cclxuLmNvbnRhaW5lci1mbHVpZCB7XHJcbiAgbWFyZ2luLWxlZnQ6IDB2dztcclxuICBwYWRkaW5nLXRvcDogM3ZoO1xyXG4gIHBhZGRpbmctbGVmdDogMnZ3O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDBweDtcclxuICBwYWRkaW5nLWJvdHRvbTogNXZoO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkYwO1xyXG4gIGZvbnQtZmFtaWx5OiAnTW9udHNlcnJhdCcsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbiN1bmFtZUxhYmVsIHtcclxuICBtYXJnaW4tYm90dG9tOiAxdmg7XHJcbn1cclxuXHJcbiNwc3dMYWJlbCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMXZoO1xyXG59XHJcblxyXG4ucm93IHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLyogRnVsbC13aWR0aCBpbnB1dHMgKi9cclxuaW5wdXRbdHlwZT10ZXh0XSwgaW5wdXRbdHlwZT1wYXNzd29yZF0ge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbi1ib3R0b206IDJ2aDtcclxuICBwYWRkaW5nOiAxLjV2aCAxLjV2dztcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuLyogU3R5bGUgZm9yIGFsbCBidXR0b25zICovXHJcbmJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E5QjM4ODtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcGFkZGluZzogMTRweCAyMHB4O1xyXG4gIG1hcmdpbjogOHB4IDA7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbiAgLyogSG92ZXIgZWZmZWN0IGZvciBidXR0b25zICovXHJcbiAgYnV0dG9uOmhvdmVyIHtcclxuICAgIG9wYWNpdHk6IDAuODtcclxuICB9XHJcblxyXG4jbG9naW4ge1xyXG4gIG1hcmdpbi10b3A6IDJ2aDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi8qIFN0eWxlcyBmb3IgdGhlIGxvYWRpbmcgc3Bpbm5lciAqL1xyXG4ubG9hZGVyIHtcclxuICBib3JkZXI6IDRweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgYm9yZGVyLXRvcDogNHB4IHNvbGlkICM1RjZGNTI7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIHdpZHRoOiAyMHB4O1xyXG4gIGhlaWdodDogMjBweDtcclxuICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBtYXJnaW4tbGVmdDogMTBweDsgLyogQWRqdXN0IHNwYWNpbmcgYmV0d2VlbiB0ZXh0IGFuZCBsb2FkZXIgKi9cclxufVxyXG5cclxuQGtleWZyYW1lcyBzcGluIHtcclxuICB0byB7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xyXG4gIH1cclxufVxyXG5cclxuLyogQWRkaXRpb25hbCBzdHlsZXMgZm9yIHRoZSBsb2dpbiBidXR0b24gKi9cclxuLmxvZ2luLWJ1dHRvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyOyAvKiBDZW50ZXIgaG9yaXpvbnRhbGx5ICovXHJcbiAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBOZWVkZWQgZm9yIHBvc2l0aW9uaW5nIHRoZSBsb2FkZXIgKi9cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAMYA,+BAAuE;IAC3DA,+EAA+D;IAAAA,iBAAS;;;;;IAUhFA,0BAA8C;;;;;;ACP9D,OAAM,MAAOC,cAAc;EAOzBC,YAAoBC,OAAe,EACzBC,YAAyB;IADf,YAAO,GAAPD,OAAO;IACjB,iBAAY,GAAZC,YAAY;IAJf,cAAS,GAAG,KAAK;IACxB,gBAAW,GAAY,KAAK;EAGW;EAEvCC,QAAQ;IACN;IACAC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC7B,IAAI,CAACH,YAAY,CAACI,UAAU,CAAC,IAAI,CAACC,KAAK,EAAE,IAAI,CAACC,QAAQ,CAAC,CAACC,SAAS,CAAEC,QAAQ,IAAI;MAC7E,IAAI,CAACA,QAAQ,EAAE;QACb;QACA,IAAI,CAACC,SAAS,GAAG,IAAI;QACrB,IAAI,CAACC,WAAW,GAAG,KAAK;OACzB,MAAM;QACL;QACA,IAAI,CAACA,WAAW,GAAG,IAAI;QACvB,IAAI,CAACC,MAAM,EAAE;QACb,IAAI,CAACF,SAAS,GAAG,KAAK;QACtBG,cAAc,CAACC,OAAO,CAAC,OAAO,EAAE,IAAI,CAACR,KAAK,CAAC;QAC3C,IAAI,CAACN,OAAO,CAACe,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,MAAK;UAC7CC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;QAC1B,CAAC,CAAC;;IAEN,CAAC,CAAC;EACJ;EAEAP,MAAM;IACH,IAAI,CAACD,WAAW,GAAG,IAAI;EAC1B;EAEAS,QAAQ,IAAU;;AAnCPtB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV3B5B,8BAA6B;MACnBA;QAAA,OAAY6B,cAAU;MAAA,EAAC;MACzB7B,8BAAgC;MAExBA,wBACJ;MAAAA,iBAAK;MACLA,+DAEM;MACNA,gCAAmC;MAAGA,qBAAK;MAAAA,iBAAI;MAC/CA,gCAA6D;MAApBA;QAAA;MAAA,EAAmB;MAA5DA,iBAA6D;MAE7DA,iCAA+B;MAAGA,yBAAQ;MAAAA,iBAAI;MAC9CA,iCAAkE;MAAvBA;QAAA;MAAA,EAAsB;MAAjEA,iBAAkE;MAElEA,kCAAyE;MAAnBA;QAAA,OAAS6B,YAAQ;MAAA,EAAC;MACpE7B,4BAAK;MAAAA,sBAAK;MAAAA,iBAAM;MAChBA,iEAA8C;MAClDA,iBAAS;MACTA,mCAAqC;MAAAA,yBAAQ;MAAAA,iBAAS;;;MAbhDA,eAAe;MAAfA,oCAAe;MAIoBA,eAAmB;MAAnBA,mCAAmB;MAGjBA,eAAsB;MAAtBA,sCAAsB;MAIvDA,eAAiB;MAAjBA,sCAAiB;MAEnBA,eAA4B;MAA5BA,uDAA4B","names":["i0","LoginComponent","constructor","_router","_userService","onSubmit","console","log","checkLogin","email","password","subscribe","loggedIn","loginFail","loaderCheck","loader","sessionStorage","setItem","navigate","then","window","location","reload","ngOnInit","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\deryj\\source\\repos\\WebApplicationAngular\\ClientApp\\src\\app\\users\\login\\login.component.html","C:\\Users\\deryj\\source\\repos\\WebApplicationAngular\\ClientApp\\src\\app\\users\\login\\login.component.ts"],"sourcesContent":["<div class=\"container-fluid\">\r\n    <form (ngSubmit)=\"onSubmit()\" method=\"post\" class=\"row\">\r\n        <div class=\"col-md-6 col-sm-12\">\r\n            <h1>\r\n                Log in\r\n            </h1>\r\n            <div *ngIf=\"loginFail\" class=\"alert alert-danger box-msg\" role=\"alert\">\r\n                <strong>Either your email or password was incorrect. Please try again. </strong>\r\n            </div>\r\n            <label id=\"unameLabel\" for=\"uname\"><b>Email</b></label>\r\n            <input type=\"text\" name=\"uname\" required [(ngModel)]=\"email\">\r\n\r\n            <label id=\"pswLabel\" for=\"psw\"><b>Password</b></label>\r\n            <input type=\"password\" name=\"psw\" required [(ngModel)]=\"password\">\r\n\r\n            <button id=\"login\" type=\"submit\" class=\"login-button\" (click)=\"loader()\">\r\n                <div>Login</div>\r\n                <div *ngIf=\"loaderCheck\" class=\"loader\"></div>\r\n            </button>\r\n            <button [routerLink]=\"['/register']\">Register</button>\r\n        </div>\r\n    </form>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from '../users.service';\r\n\r\n@Component({\r\n  selector: 'app-login-component',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\n\r\nexport class LoginComponent implements OnInit {\r\n\r\n  email!: string;\r\n  password!: string;\r\n  public loginFail = false;\r\n  loaderCheck: boolean = false;\r\n\r\n  constructor(private _router: Router,\r\n    private _userService: UserService) { }\r\n\r\n  onSubmit() {\r\n    //Check if email and password exsist in our table\r\n    console.log(\"Log in clicked\"); \r\n    this._userService.checkLogin(this.email, this.password).subscribe((loggedIn) => {\r\n      if (!loggedIn) {\r\n        //Show error message if user can't log in\r\n        this.loginFail = true;\r\n        this.loaderCheck = false;\r\n      } else {\r\n        //If user log in, a new session is created\r\n        this.loaderCheck = true;\r\n        this.loader();\r\n        this.loginFail = false;\r\n        sessionStorage.setItem(\"email\", this.email);\r\n        this._router.navigate(['/nav-menu']).then(() => {\r\n          window.location.reload()\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  loader(): void {\r\n     this.loaderCheck = true;\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}