{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet OrderTableComponent = class OrderTableComponent {\n  constructor(_router, _orderService, _route) {\n    this._router = _router;\n    this._orderService = _orderService;\n    this._route = _route;\n    this.myOrders = [];\n    this.newOrder = {};\n    this.newUser = {};\n  }\n  ngOnInit() {\n    this.getMyOrders();\n  }\n  getMyOrders() {\n    const email = sessionStorage.getItem(\"email\");\n    this._orderService.getOrders(email).subscribe(orders => {\n      console.log('Orders retrieved successfully:', orders);\n      this.myOrders = orders;\n    }, error => {\n      console.error('Error loading orders: ', error);\n    });\n  }\n  deleteOrder(order) {\n    const confirmDelete = confirm(`Are you sure you want to delete order for \"${order.House.Address}\"`);\n    if (confirmDelete) {\n      this._orderService.deleteOrder(order.OrderId).subscribe(response => {\n        if (response.success) {\n          console.log(\"Order deleted\", response.message);\n          window.location.reload();\n        }\n      }, error => {\n        console.error('Error deleting order:', error);\n      });\n    }\n  }\n};\nOrderTableComponent = __decorate([Component({\n  selector: 'app-order-table',\n  templateUrl: './Table.component.html',\n  styleUrls: ['./Table.component.css']\n})], OrderTableComponent);\nexport { OrderTableComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAY1C,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAM9BC,YAAoBC,OAAe,EACzBC,aAA2B,EAC3BC,MAAsB;IAFZ,YAAO,GAAPF,OAAO;IACjB,kBAAa,GAAbC,aAAa;IACb,WAAM,GAANC,MAAM;IAPhB,aAAQ,GAAa,EAAE;IACvB,aAAQ,GAAW,EAAY;IAC/B,YAAO,GAAU,EAAW;EAKQ;EAEpCC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAW;IACT,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAE;IAC9C,IAAI,CAACN,aAAa,CAACO,SAAS,CAACH,KAAK,CAAC,CAChCI,SAAS,CACPC,MAAgB,IAAI;MACnBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEF,MAAM,CAAC;MACrD,IAAI,CAACG,QAAQ,GAAGH,MAAM;IACxB,CAAC,EACAI,KAAU,IAAI;MACbH,OAAO,CAACG,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CACF;EACL;EAEAC,WAAW,CAACC,KAAa;IACvB,MAAMC,aAAa,GAAGC,OAAO,CAAC,8CAA8CF,KAAK,CAACG,KAAK,CAACC,OAAO,GAAG,CAAC;IACnG,IAAIH,aAAa,EAAE;MACjB,IAAI,CAAChB,aAAa,CAACc,WAAW,CAACC,KAAK,CAACK,OAAO,CAAC,CAACZ,SAAS,CACpDa,QAAQ,IAAI;QACX,IAAIA,QAAQ,CAACC,OAAO,EAAE;UACpBZ,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEU,QAAQ,CAACE,OAAO,CAAC;UAC9CC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;;MAE5B,CAAC,EACAb,KAAK,IAAI;QACRH,OAAO,CAACG,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C,CAAC,CAAC;;EAER;CACD;AA3CYhB,mBAAmB,eAN/BD,SAAS,CAAC;EACT+B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GAEWhC,mBAAmB,CA2C/B;SA3CYA,mBAAmB","names":["Component","OrderTableComponent","constructor","_router","_orderService","_route","ngOnInit","getMyOrders","email","sessionStorage","getItem","getOrders","subscribe","orders","console","log","myOrders","error","deleteOrder","order","confirmDelete","confirm","House","Address","OrderId","response","success","message","window","location","reload","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\danie\\WebApplikasjoner\\WebApplicationAngular\\ClientApp\\src\\app\\Order\\Table.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { IOrder } from './order';\r\nimport { IUser } from '../users/user';\r\nimport { OrderService } from './orders.service';\r\n\r\n@Component({\r\n  selector: 'app-order-table',\r\n  templateUrl: './Table.component.html',\r\n  styleUrls: ['./Table.component.css'],\r\n})\r\n\r\nexport class OrderTableComponent implements OnInit {\r\n  myOrders: IOrder[] = [];\r\n  newOrder: IOrder = {} as IOrder;\r\n  newUser: IUser = {} as IUser;\r\n\r\n\r\n  constructor(private _router: Router,\r\n    private _orderService: OrderService,\r\n    private _route: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getMyOrders();\r\n  }\r\n\r\n  getMyOrders() {\r\n    const email = sessionStorage.getItem(\"email\")!;\r\n    this._orderService.getOrders(email)\r\n      .subscribe(\r\n        (orders: IOrder[]) => {\r\n          console.log('Orders retrieved successfully:', orders);\r\n          this.myOrders = orders;\r\n        },\r\n        (error: any) => {\r\n          console.error('Error loading orders: ', error);\r\n        }\r\n      );\r\n  }\r\n\r\n  deleteOrder(order: IOrder): void {\r\n    const confirmDelete = confirm(`Are you sure you want to delete order for \"${order.House.Address}\"`);\r\n    if (confirmDelete) {\r\n      this._orderService.deleteOrder(order.OrderId).subscribe(\r\n        (response) => {\r\n          if (response.success) {\r\n            console.log(\"Order deleted\", response.message);\r\n            window.location.reload();\r\n          }\r\n        },\r\n        (error) => {\r\n          console.error('Error deleting order:', error);\r\n        });\r\n    }\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}