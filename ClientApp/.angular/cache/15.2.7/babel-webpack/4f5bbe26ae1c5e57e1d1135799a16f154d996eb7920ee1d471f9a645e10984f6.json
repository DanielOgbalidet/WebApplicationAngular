{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../houses.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/convertPipe\";\nconst _c0 = function (a1) {\n  return [\"/details\", a1];\n};\nfunction ListingsComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"a\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"convertCurrency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵelement(14, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"a\", 9);\n    i0.ɵɵtext(17, \"Update (not)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"a\", 10);\n    i0.ɵɵtext(19, \"Delete (not)\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const listing_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c0, listing_r1.HouseId));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(listing_r1.Address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 6, listing_r1.Price, \"kr.\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(listing_r1.Description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(listing_r1.Bedrooms);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(listing_r1.Guests);\n  }\n}\nexport class ListingsComponent {\n  constructor(_router, _houseService, _route) {\n    this._router = _router;\n    this._houseService = _houseService;\n    this._route = _route;\n    this.myListings = [];\n    this.userId = -1;\n  }\n  ngOnInit() {\n    console.log(\"Here\");\n    this._route.params.subscribe(params => {\n      this.userId = +params['id'];\n      console.log(\"UserId\", this.userId);\n      this.getMyListings(this.userId);\n      console.log(\"Get listings done\");\n    });\n  }\n  getMyListings(userId) {\n    console.log(\"Get listings started\");\n    this._houseService.getListings(this.userId).subscribe(listings => {\n      console.log('retreived listings: ', JSON.stringify(listings));\n      this.myListings = listings;\n    }, error => {\n      console.error('Error loading listings for edit: ', error);\n    });\n  }\n}\nListingsComponent.ɵfac = function ListingsComponent_Factory(t) {\n  return new (t || ListingsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HouseService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nListingsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListingsComponent,\n  selectors: [[\"app-listings-component\"]],\n  decls: 24,\n  vars: 1,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css\"], [\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"integrity\", \"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\", \"crossorigin\", \"anonymous\"], [1, \"container\"], [1, \"table-container\"], [1, \"table\", \"table-hover\", 2, \"border\", \"1px solid #ccc\", \"margin\", \"0 auto\"], [1, \"table-active\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"house-link\", 3, \"routerLink\"], [\"src\", \"listing.ImageUrl\", \"alt\", \"House Image\", 2, \"max-width\", \"80px\", \"max-height\", \"80px\"], [\"id\", \"update\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"btn\"], [\"id\", \"delete\", 1, \"btn\", \"btn-danger\", \"btn-sm\", \"btn\"]],\n  template: function ListingsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"head\");\n      i0.ɵɵelement(1, \"link\", 0)(2, \"link\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"h1\");\n      i0.ɵɵtext(5, \"My listings\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 3)(7, \"table\", 4)(8, \"tr\", 5)(9, \"th\");\n      i0.ɵɵtext(10, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Bedrooms\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Guests\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"Actions\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(23, ListingsComponent_tr_23_Template, 20, 11, \"tr\", 6);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngForOf\", ctx.myListings);\n    }\n  },\n  dependencies: [i3.NgForOf, i1.RouterLink, i4.ConvertCurrency],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n  margin-left: 2vw;\\r\\n  padding-right: 5vw;\\r\\n  padding-top: 3vh;\\r\\n  padding-left: 0px;\\r\\n  padding-right: 0px;\\r\\n  padding-bottom: 5vh;\\r\\n  margin-right: 2vw;\\r\\n}\\r\\n\\r\\nh1[_ngcontent-%COMP%] {\\r\\n  padding-bottom: 2vh;\\r\\n}\\r\\n\\r\\n#listings[_ngcontent-%COMP%]::after {\\r\\n  content: '';\\r\\n  height: 2px;\\r\\n  width: 100%;\\r\\n  background: black;\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  bottom: 0;\\r\\n  opacity: 1; \\r\\n  transition: all 0.2s;\\r\\n  pointer-events: none;\\r\\n}\\r\\n\\r\\n.table-container[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  overflow: auto; \\r\\n  max-height: 75vh;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n@media screen and (max-width: 767px) {\\r\\n\\r\\n  #delete[_ngcontent-%COMP%] {\\r\\n    width: 9.4vh;\\r\\n  }\\r\\n\\r\\n  #update[_ngcontent-%COMP%] {\\r\\n    width: 9.4vh;\\r\\n  }\\r\\n\\r\\n\\r\\n  h1[_ngcontent-%COMP%] {\\r\\n    padding-bottom: 1vh;\\r\\n  }\\r\\n\\r\\n  #listings[_ngcontent-%COMP%]::after {\\r\\n    content: '';\\r\\n    height: 2px;\\r\\n    width: 100%;\\r\\n    background: black;\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    bottom: 0;\\r\\n    opacity: 1;\\r\\n    transition: all 0.2s;\\r\\n    pointer-events: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n\\r\\n@media screen and (min-width: 768px) and (max-width: 1024px) {\\r\\n\\r\\n\\r\\n  #delete[_ngcontent-%COMP%] {\\r\\n    width: 9.4vh;\\r\\n  }\\r\\n\\r\\n\\r\\n  #update[_ngcontent-%COMP%] {\\r\\n    width: 9.4vh;\\r\\n  }\\r\\n\\r\\n  .table-container[_ngcontent-%COMP%] {\\r\\n    margin-left: 2vw;\\r\\n    margin-right: 2vw;\\r\\n    padding-right: 5vw;\\r\\n    padding-top: 3vh;\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n    padding-bottom: 5vh;\\r\\n  }\\r\\n\\r\\n  h1[_ngcontent-%COMP%] {\\r\\n    padding-bottom: 2vh;\\r\\n  }\\r\\n\\r\\n  #listings[_ngcontent-%COMP%]::after {\\r\\n    content: '';\\r\\n    height: 2px;\\r\\n    width: 100%;\\r\\n    background: black;\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    bottom: 0;\\r\\n    opacity: 1;\\r\\n    transition: all 0.2s;\\r\\n    pointer-events: none;\\r\\n  }\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG91c2VzL0xpc3RpbmdzL2xpc3RpbmdzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsV0FBVztFQUNYLFdBQVc7RUFDWCxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLE9BQU87RUFDUCxTQUFTO0VBQ1QsVUFBVSxFQUFFLG1EQUFtRDtFQUMvRCxvQkFBb0I7RUFDcEIsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGNBQWMsRUFBRSw4REFBOEQ7RUFDOUUsZ0JBQWdCO0FBQ2xCOzs7QUFHQSwyQkFBMkI7QUFDM0I7O0VBRUU7SUFDRSxZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxZQUFZO0VBQ2Q7OztFQUdBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsV0FBVztJQUNYLFdBQVc7SUFDWCxXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixPQUFPO0lBQ1AsU0FBUztJQUNULFVBQVU7SUFDVixvQkFBb0I7SUFDcEIsb0JBQW9CO0VBQ3RCO0FBQ0Y7O0FBRUEsMEJBQTBCO0FBQzFCOzs7RUFHRTtJQUNFLFlBQVk7RUFDZDs7O0VBR0E7SUFDRSxZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxXQUFXO0lBQ1gsV0FBVztJQUNYLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLE9BQU87SUFDUCxTQUFTO0lBQ1QsVUFBVTtJQUNWLG9CQUFvQjtJQUNwQixvQkFBb0I7RUFDdEI7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xyXG4gIG1hcmdpbi1sZWZ0OiAydnc7XHJcbiAgcGFkZGluZy1yaWdodDogNXZ3O1xyXG4gIHBhZGRpbmctdG9wOiAzdmg7XHJcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XHJcbiAgcGFkZGluZy1yaWdodDogMHB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiA1dmg7XHJcbiAgbWFyZ2luLXJpZ2h0OiAydnc7XHJcbn1cclxuXHJcbmgxIHtcclxuICBwYWRkaW5nLWJvdHRvbTogMnZoO1xyXG59XHJcblxyXG4jbGlzdGluZ3M6OmFmdGVyIHtcclxuICBjb250ZW50OiAnJztcclxuICBoZWlnaHQ6IDJweDtcclxuICB3aWR0aDogMTAwJTtcclxuICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMDtcclxuICBib3R0b206IDA7XHJcbiAgb3BhY2l0eTogMTsgLyogU2V0IG9wYWNpdHkgdG8gMSB0byBtYWtlIGl0IHZpc2libGUgYnkgZGVmYXVsdCAqL1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG59XHJcblxyXG4udGFibGUtY29udGFpbmVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBvdmVyZmxvdzogYXV0bzsgLyogSW1wb3J0YW50IHRvIG1ha2UgdGhlIHRhYmxlIHNjcm9sbGFibGUgaW4gc21hbGxlciBkZXZpY2VzICovXHJcbiAgbWF4LWhlaWdodDogNzV2aDtcclxufVxyXG5cclxuXHJcbi8qIE1lZGlhIFF1ZXJ5IGZvciBQaG9uZXMgKi9cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHtcclxuXHJcbiAgI2RlbGV0ZSB7XHJcbiAgICB3aWR0aDogOS40dmg7XHJcbiAgfVxyXG5cclxuICAjdXBkYXRlIHtcclxuICAgIHdpZHRoOiA5LjR2aDtcclxuICB9XHJcblxyXG5cclxuICBoMSB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMXZoO1xyXG4gIH1cclxuXHJcbiAgI2xpc3RpbmdzOjphZnRlciB7XHJcbiAgICBjb250ZW50OiAnJztcclxuICAgIGhlaWdodDogMnB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XHJcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICB9XHJcbn1cclxuXHJcbi8qIE1lZGlhIFF1ZXJ5IGZvciBpUGFkcyAqL1xyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtYXgtd2lkdGg6IDEwMjRweCkge1xyXG5cclxuXHJcbiAgI2RlbGV0ZSB7XHJcbiAgICB3aWR0aDogOS40dmg7XHJcbiAgfVxyXG5cclxuXHJcbiAgI3VwZGF0ZSB7XHJcbiAgICB3aWR0aDogOS40dmg7XHJcbiAgfVxyXG5cclxuICAudGFibGUtY29udGFpbmVyIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAydnc7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDJ2dztcclxuICAgIHBhZGRpbmctcmlnaHQ6IDV2dztcclxuICAgIHBhZGRpbmctdG9wOiAzdmg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDA7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAwO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDV2aDtcclxuICB9XHJcblxyXG4gIGgxIHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAydmg7XHJcbiAgfVxyXG5cclxuICAjbGlzdGluZ3M6OmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgaGVpZ2h0OiAycHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQ6IGJsYWNrO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogMDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAmBYA,0BAAuC;IAEiCA,YAAqB;IAAAA,iBAAI;IAE7FA,0BAAI;IAAAA,YAA6C;;IAAAA,iBAAK;IACtDA,0BAAI;IAAAA,YAAyB;IAAAA,iBAAK;IAClCA,0BAAI;IAAAA,aAAsB;IAAAA,iBAAK;IAC/BA,2BAAI;IAAAA,aAAoB;IAAAA,iBAAK;IAC7BA,2BAAI;IACAA,0BAA2F;IAC/FA,iBAAK;IACLA,2BAAI;IACkDA,6BAAY;IAAAA,iBAAI;IAClEA,8BAAiD;IAAAA,6BAAY;IAAAA,iBAAI;;;;IAX9DA,eAA4C;IAA5CA,2EAA4C;IAAiBA,eAAqB;IAArBA,wCAAqB;IAErFA,eAA6C;IAA7CA,mEAA6C;IAC7CA,eAAyB;IAAzBA,4CAAyB;IACzBA,eAAsB;IAAtBA,yCAAsB;IACtBA,eAAoB;IAApBA,uCAAoB;;;ACfxC,OAAM,MAAOC,iBAAiB;EAI5BC,YAAoBC,OAAe,EACzBC,aAA2B,EAC3BC,MAAsB;IAFZ,YAAO,GAAPF,OAAO;IACjB,kBAAa,GAAbC,aAAa;IACb,WAAM,GAANC,MAAM;IALhB,eAAU,GAAa,EAAE;IACzB,WAAM,GAAW,CAAC,CAAC;EAKnB;EAEAC,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnB,IAAI,CAACH,MAAM,CAACI,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACpC,IAAI,CAACE,MAAM,GAAG,CAAEF,MAAM,CAAC,IAAI,CAAC;MAC5BF,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAACG,MAAM,CAAC;MAClC,IAAI,CAACC,aAAa,CAAC,IAAI,CAACD,MAAM,CAAC;MAC/BJ,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAClC,CAAC,CAAC;EACJ;EAEAI,aAAa,CAACD,MAAc;IAC1BJ,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACnC,IAAI,CAACJ,aAAa,CAACS,WAAW,CAAC,IAAI,CAACF,MAAM,CAAC,CACxCD,SAAS,CACPI,QAAkB,IAAI;MACrBP,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEO,IAAI,CAACC,SAAS,CAACF,QAAQ,CAAC,CAAC;MAC7D,IAAI,CAACG,UAAU,GAAGH,QAAQ;IAC5B,CAAC,EACAI,KAAU,IAAI;MACbX,OAAO,CAACW,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IAC3D,CAAC,CACF;EACL;;AA/BWjB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX9BvB,4BAAM;MACFA,0BAA4G;MAEhHA,iBAAO;MAEPA,8BAAuB;MACfA,2BAAW;MAAAA,iBAAK;MAEpBA,8BAA6B;MAGbA,wBAAO;MAAAA,iBAAK;MAChBA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,4BAAW;MAAAA,iBAAK;MACpBA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAEpBA,oEAeK;MACTA,iBAAQ;;;MAhBoBA,gBAAa;MAAbA,wCAAa","names":["i0","ListingsComponent","constructor","_router","_houseService","_route","ngOnInit","console","log","params","subscribe","userId","getMyListings","getListings","listings","JSON","stringify","myListings","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\danie\\WebApplikasjoner\\WebApplicationAngular\\ClientApp\\src\\app\\houses\\Listings\\listings.component.html","C:\\Users\\danie\\WebApplikasjoner\\WebApplicationAngular\\ClientApp\\src\\app\\houses\\Listings\\listings.component.ts"],"sourcesContent":["<head>\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css\" />\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\" crossorigin=\"anonymous\">\r\n</head>\r\n\r\n<div class=\"container\">\r\n    <h1>My listings</h1>\r\n\r\n    <div class=\"table-container\">\r\n        <table class='table table-hover' style='border: 1px solid #ccc; margin: 0 auto;'>\r\n            <tr class=\"table-active\">\r\n                <th>Address</th>\r\n                <th>Price</th>\r\n                <th>Description</th>\r\n                <th>Bedrooms</th>\r\n                <th>Guests</th>\r\n                <th>Image</th>\r\n                <th>Actions</th>\r\n            </tr>\r\n            <tr *ngFor='let listing of myListings'>\r\n                <td>\r\n                    <a [routerLink]=\"['/details', listing.HouseId]\" id=\"house-link\">{{ listing.Address }}</a>\r\n                </td>\r\n                <td>{{ listing.Price | convertCurrency : 'kr.' }}</td>\r\n                <td>{{ listing.Description }}</td>\r\n                <td>{{ listing.Bedrooms }}</td>\r\n                <td>{{ listing.Guests }}</td>\r\n                <td>\r\n                    <img src=\"listing.ImageUrl\" alt=\"House Image\" style=\"max-width: 80px; max-height: 80px;\" />\r\n                </td>\r\n                <td>\r\n                    <a id=\"update\" class=\"btn btn-success btn-sm btn\">Update (not)</a>\r\n                    <a id=\"delete\" class=\"btn btn-danger btn-sm btn\">Delete (not)</a>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IHouse } from '../house';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HouseService } from '../houses.service';\r\n\r\n@Component({\r\n  selector: 'app-listings-component',\r\n  templateUrl: './listings.component.html',\r\n  styleUrls: ['./listings.component.css']\r\n})\r\n\r\nexport class ListingsComponent implements OnInit {\r\n  myListings: IHouse[] = [];\r\n  userId: number = -1;\r\n\r\n  constructor(private _router: Router,\r\n    private _houseService: HouseService,\r\n    private _route: ActivatedRoute) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"Here\");\r\n    this._route.params.subscribe(params => {\r\n      this.userId = + params['id'];\r\n      console.log(\"UserId\", this.userId);\r\n      this.getMyListings(this.userId);\r\n      console.log(\"Get listings done\");\r\n    });\r\n  }\r\n\r\n  getMyListings(userId: number) {\r\n    console.log(\"Get listings started\");\r\n    this._houseService.getListings(this.userId)\r\n      .subscribe(\r\n        (listings: IHouse[]) => {\r\n          console.log('retreived listings: ', JSON.stringify(listings));\r\n          this.myListings = listings;\r\n        },\r\n        (error: any) => {\r\n          console.error('Error loading listings for edit: ', error);\r\n        }\r\n      );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}